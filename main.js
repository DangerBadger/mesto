(()=>{"use strict";var e=document.querySelector(".profile__edit-button"),t=document.querySelector(".profile__add-button"),n=document.querySelector("#popupFormProfile"),r=n.querySelector("#input-name"),o=n.querySelector("#input-job"),i=document.querySelector("#popupFormCard"),u={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_inactive",inputErrorClass:"popup__form-input_type_error"};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=c((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(r._inputErrorClass),n.textContent=t})),s(this,"_hideInputError",(function(e){var t=r._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove("".concat(r._inputErrorClass)),t.textContent=""})),s(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),s(this,"clearErrors",(function(){r._inputList.forEach((function(e){r._hideInputError(e)}))})),s(this,"disableSubmitButton",(function(){r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.disabled=!0})),s(this,"enableValidation",(function(){r._setValidationEventListeners()})),s(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),s(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disableSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled"))})),s(this,"_setValidationEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===y(o)?o:String(o)),r)}var o}var d=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItemAppEnd",value:function(e){this._container.append(e)}},{key:"addItemPrepEnd",value:function(e){this._container.prepend(e)}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var _=function(){function e(t,n){var r,o,i,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,i=function(){u._card.remove(),u._card=null},(o=h(o="_handleDeleteCard"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,this._data=t.data,this._openCard=t.handleOpenImagePopup,this._templateSelector=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._card=this._getTemplate(),this._elementImg=this._card.querySelector(".elements__img"),this._setEventListeners(),this._elementImg.src=this._data.link,this._elementImg.alt=this._data.name,this._card.querySelector(".elements__caption").textContent=this._data.name,this._card}},{key:"_setEventListeners",value:function(){var e=this;this._elementLikeButton=this._card.querySelector(".elements__like-button"),this._elementLikeButton.addEventListener("click",(function(){e._handleCardLike()})),this._card.querySelector(".elements__delete-btn").addEventListener("click",(function(){e._handleDeleteCard()})),this._card.querySelector(".elements__img-button").addEventListener("click",(function(){e._handleImageClick()}))}},{key:"_handleCardLike",value:function(){this._elementLikeButton.classList.toggle("elements__like-button_active")}},{key:"_handleImageClick",value:function(){this._openCard(this._data)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function w(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===S(t)?t:String(t)}var j=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),w(this,"_setKeyHandler",(function(){document.addEventListener("keydown",n._handleEscClose)})),w(this,"_removeKeyHandler",(function(){document.removeEventListener("keydown",n._handleEscClose)})),this._popupSelector=document.querySelector(t)}var t,n;return t=e,(n=[{key:"_bindPopupsOverlayClickHandlers",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){t.target===t.currentTarget&&e.close()}))}},{key:"_bindPopupsCloseButtonsClickHandlers",value:function(){var e=this;this._popupSelector.addEventListener("click",(function(t){t.target.classList.contains("close-btn")&&e.close()}))}},{key:"setEventListeners",value:function(){this._bindPopupsCloseButtonsClickHandlers(),this._bindPopupsOverlayClickHandlers()}},{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),this._setKeyHandler()}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),this._removeKeyHandler()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===k(o)?o:String(o)),r)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function I(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._imageLink=t._popupSelector.querySelector(".popup__figure-image"),t._imageText=t._popupSelector.querySelector(".popup__figure-caption"),t}return t=u,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;O(q(u.prototype),"open",this).call(this),this._imageLink.src=n,this._imageLink.alt=t,this._imageText.textContent=t}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(j);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===T(o)?o:String(o)),r)}var o}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=V(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function H(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function u(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=r,n._inputList=Array.from(n._popupSelector.querySelectorAll(".popup__form-input")),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;R(D(u.prototype),"setEventListeners",this).call(this),this._form=this._popupSelector.querySelector(".popup__form"),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){R(D(u.prototype),"close",this).call(this),this._form.reset()}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(j);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===K(o)?o:String(o)),r)}var o}var z=function(){function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameInput=document.querySelector(n),this._jobInput=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._name=this._nameInput.textContent,this._job=this._jobInput.textContent,{name:this._name,job:this._job}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameInput.textContent=t,this._jobInput.textContent=n}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),M=new f(u,i),N=new f(u,n),G=new B("#popupImage"),J=function(e){G.open(e)},Q=function(e,t){return new _(e,t).generateCard()},W=new d({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){var t=Q({data:e,handleOpenImagePopup:J},".template");W.addItemAppEnd(t)}},".elements__list"),X=new F("#popupCard",{handleFormSubmit:function(e){var t=Q({data:e,handleOpenImagePopup:J},".template");W.addItemPrepEnd(t),X.close()}}),Y=new z({nameSelector:".profile__name",jobSelector:".profile__job"}),Z=new F("#popupProfile",{handleFormSubmit:function(e){Y.setUserInfo(e),Z.close()}});t.addEventListener("click",(function(){M.clearErrors(),M.disableSubmitButton(),X.open()})),e.addEventListener("click",(function(){var e,t,n;N.clearErrors(),N.disableSubmitButton(),e=Y.getUserInfo(),t=e.name,n=e.job,r.value=t,o.value=n,Z.open()})),G.setEventListeners(),Z.setEventListeners(),X.setEventListeners(),M.enableValidation(),N.enableValidation(),W.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQ0VPLEVBQWdCTSxlQUFlSixHQUMvQkUsRUFBVTlDLE9BQ2QsSUFHSWlELEVBQVcsSUFBSXpCLEVBQVMsQ0FBRUMsYVIxREcsaUJRMERnQ0MsWVJ6RGpDLGtCUTJENUJ3QixFQUFZLElBQUlwQyxFUm5FYyxnQlFxRWxDLENBQ0VDLGlCQUFrQixTQUFDZ0MsR0FDakJFLEVBQVNFLFlBQVlKLEdBQ3JCRyxFQUFVbEQsT0FDWixJQTJCSnJGLEVBQW9CdUMsaUJBQWlCLFNBUGYsV0FDcEI4RSxFQUFrQm9CLGNBQ2xCcEIsRUFBa0JqRixzQkFDbEIrRixFQUFVVCxNQUNaLElBTUE3SCxFQUF1QjBDLGlCQUFpQixTQXpCZixXQVFLLElBQzVCLEVBQU9vQyxFQUFNeUMsRUFSYkUsRUFBcUJtQixjQUNyQm5CLEVBQXFCbEYsc0JBT3JCLEVBQW9Ca0csRUFBU0ksY0FBdEIvRCxFQUFJLEVBQUpBLEtBQU15QyxFQUFHLEVBQUhBLElBQ2JsSCxFQUFVc0csTUFBUTdCLEVBQ2xCeEUsRUFBU3FHLE1BQVFZLEVBUGpCbUIsRUFBVWIsTUFDWixJQXNCQUgsRUFBU29CLG9CQUNUSixFQUFVSSxvQkFDVlIsRUFBVVEsb0JBQ1Z0QixFQUFrQnVCLG1CQUNsQnRCLEVBQXFCc0IsbUJBQ3JCYixFQUFnQmMsYSIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQ2FyZFNlbGVjdG9yID0gJyNwb3B1cENhcmQnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlU2VsZWN0b3IgPSAnI3BvcHVwUHJvZmlsZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlU2VsZWN0b3IgPSAnI3BvcHVwSW1hZ2UnO1xyXG5leHBvcnQgY29uc3QgY2FyZFBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJylcclxuZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEZvcm1Qcm9maWxlJyk7ICBcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGZvcm1Qcm9maWxlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBmb3JtUHJvZmlsZUVsZW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LWpvYicpO1xyXG5leHBvcnQgY29uc3QgZm9ybUNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwRm9ybUNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX25hbWUnO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYlNlbGVjdG9yID0gJy5wcm9maWxlX19qb2InO1xyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSAnLmVsZW1lbnRzX19saXN0JztcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLWlucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0LWJ0bicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnRuX2luYWN0aXZlJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yJyxcclxufTtcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxuICB9XHJcbl07ICIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutC70LDRgdGB0LAg0YEg0L7RiNC40LHQutC+0LlcclxuICBfc2hvd0lucHV0RXJyb3IgPSAoZm9ybUlucHV0LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2Zvcm1JbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgfTtcclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutC70LDRgdGB0LAg0YEg0L7RiNC40LHQutC+0LlcclxuICBfaGlkZUlucHV0RXJyb3IgPSAoZm9ybUlucHV0KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtmb3JtSW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBmb3JtSW5wdXQuY2xhc3NMaXN0LnJlbW92ZShgJHt0aGlzLl9pbnB1dEVycm9yQ2xhc3N9YCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDQutC4INCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9GPXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtSW5wdXQpID0+IHtcclxuICAgIGlmICghZm9ybUlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGZvcm1JbnB1dCwgZm9ybUlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1JbnB1dCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgIC8vINCe0YfQuNGJ0LDQtdC8INC+0YjQuNCx0LrQuFxyXG4gICBjbGVhckVycm9ycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUlucHV0KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0JTQtdC70LDQtdC8INC60L3QvtC/0LrQuCDQvdC10LDQutGC0LjQstC90YvQvNC4INC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4IHBvcHVwIFxyXG4gIGRpc2FibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9O1xyXG5cclxuICAvLyDQktGL0LfQvtCyINGE0YPQvdC60YbQuNC4IGlzVmFsaWQg0L3QsCDQutCw0LbQtNGL0Lkg0LLQstC+0LQg0YHQuNC80LLQvtC70LBcclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc2V0VmFsaWRhdGlvbkV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhZm9ybUlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0KPQv9GA0LDQstC70LXQvdC40LUg0YHQvtGB0YLQvtGP0L3QuNC10Lwg0LrQvdC+0L/QutC4XHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCh0L7QsdC40YDQsNC10Lwg0LLRgdC1INGB0LvRg9GI0LDRgtC10LvQuFxyXG4gIF9zZXRWYWxpZGF0aW9uRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgICAgZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtSW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbUFwcEVuZChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbVByZXBFbmQoZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gc2V0dGluZ3MuZGF0YTtcclxuICAgIHRoaXMuX29wZW5DYXJkID0gc2V0dGluZ3MuaGFuZGxlT3BlbkltYWdlUG9wdXA7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0nKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1nID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltZycpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50SW1nLnNyYyA9IHRoaXMuX2RhdGEubGluaztcclxuICAgIHRoaXMuX2VsZW1lbnRJbWcuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NhcHRpb24nKS50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UtYnV0dG9uJyk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19kZWxldGUtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWctYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2FyZExpa2UoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50c19fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRGVsZXRlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbWFnZUNsaWNrKCkge1xyXG4gICAgdGhpcy5fb3BlbkNhcmQodGhpcy5fZGF0YSk7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8gcG9wdXAg0L3QsCBlc2NcclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0YPRgdGC0LDQvdC+0LLQutC4INGB0LvRg9GI0LDRgtC10LvRjyDQt9Cw0LrRgNGL0YLQuNGPIHBvcHVwINC90LAgZXNjINC90LAg0LLQtdGB0Ywg0LTQvtC60YPQvNC10L3RglxyXG4gIF9zZXRLZXlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vINCh0L3Rj9GC0LjQtSDRgdC70YPRiNCw0YLQtdC70Y8g0LfQsNC60YDRi9GC0LjRjyBwb3B1cCDQvdCwIGVzYyDQvdCwINCy0LXRgdGMINC00L7QutGD0LzQtdC90YJcclxuICBfcmVtb3ZlS2V5SGFuZGxlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyDQl9Cw0LrRgNGL0YLQuNC1IHBvcHVwINC90LAg0L7QstC10YDQu9C10LVcclxuICBfYmluZFBvcHVwc092ZXJsYXlDbGlja0hhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkgeyAgLy8g0KDQtdCw0LvQuNC30LDRhtC40Y8g0YfQtdGA0LXQtyB8fCDQvNC90LUg0LjQt9Cy0LXRgdGC0L3QsCwg0L3QviDRjyDRg9C80YvRiNC70LXQvdC90L4g0YDQsNC30LTQtdC70LjQuyDRjdGC0L7RgiDQvNC10YLQvtC0INC90LAgMi4uLlxyXG4gICAgICAgIHRoaXMuY2xvc2UoKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINGCLtC6LiDQtNC70Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+INC+0LLQtdGA0LvQtdGOINC/0L7QtNGF0L7QtNC40YIgbW91c2Vkb3duLCDQvdC+INC00LvRjyDQt9GL0LrRgNGL0YLQuNGPINC/0L4g0LrRgNC10YHRgtC40LrRgy4uLlxyXG4gICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINC70YPRh9GI0LUg0L/QvtC00L7QudC00ZHRgiBjbGljaywg0YLQsNC6INC60LDQuiDRjdGC0L4g0YjQuNGA0L7QutC+0YDQsNGB0L/RgNC+0YHRgtGA0LDQvdGR0L3QvdC+0LUg0L/QvtCy0LXQtNC10L3QuNC1INC60L3QvtC/0LrQuCDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvtC9Li4uXHJcbiAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0LTQu9GPINC+0LLQtdGA0LvQtdGPINC20LUgY2xpY2sg0L3QsNC/0YDQvtGC0LjQsiDQvdC1INC+0YfQtdC90Ywg0YPQtNC+0LHQtdC9LCDRgi7Qui4g0L/RgNC4INCx0L7Qu9GM0YjQvtC8INC/0L7Qv9Cw0L/QtSwg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC80L7QttC10YIuLi5cclxuICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQvdCw0LbQsNGC0Ywg0L3QsCDQu9C/0LrQvCDQvdCwINC+0LLQtdGA0LvQtdC1LCDQsCDQvtGC0L/Rg9GB0YLQuNGC0Ywg0LXQs9C+INC90LAg0YTQvtGC0L7Qs9GA0LDRhNC40LgsINC4INC30LDQutGA0YvRgtC40Y8g0L3QtSDQv9GA0L7QuNC30L7QudC00ZHRgi5cclxuXHJcbiAgLy8g0JfQsNC60YDRi9GC0LjQtSBwb3B1cCDQvdCwINC60YDQtdGB0YLQuNC60LVcclxuICBfYmluZFBvcHVwc0Nsb3NlQnV0dG9uc0NsaWNrSGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlLWJ0bicpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9O1xyXG4gICAgfSlcclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2JpbmRQb3B1cHNDbG9zZUJ1dHRvbnNDbGlja0hhbmRsZXJzKCk7XHJcbiAgICB0aGlzLl9iaW5kUG9wdXBzT3ZlcmxheUNsaWNrSGFuZGxlcnMoKTtcclxuICB9O1xyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIHRoaXMuX3NldEtleUhhbmRsZXIoKTtcclxuICB9O1xyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB0aGlzLl9yZW1vdmVLZXlIYW5kbGVyKCk7XHJcbiAgfTtcclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VMaW5rID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZ3VyZS1pbWFnZScpO1xyXG4gICAgdGhpcy5faW1hZ2VUZXh0ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZ3VyZS1jYXB0aW9uJyk7XHJcblxyXG4gIH1cclxuXHJcblxyXG4gIG9wZW4oe25hbWUsIGxpbmt9KSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9pbWFnZUxpbmsuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlTGluay5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1hZ2VUZXh0LnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9O1xyXG59O1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHtoYW5kbGVGb3JtU3VibWl0fSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2Zvcm0taW5wdXQnKSk7IC8vINCg0LDQvdGM0YjQtSDRjyDQstGB0LXQs9C00LAg0Y/QstC90L4g0L/RgNC10L7QsdGA0LDQt9C+0LLRi9Cy0LDQuy4uLlxyXG4gIH0gICAgICAgIC8vINC80LDRgdGB0LjQstC+0L/QvtC00L7QsdC90YvQtSDQvtCx0YrQtdC60YLRiyDQsiDQvNCw0YHRgdC40LLRiywg0L3QviDQsiDQs9GA0YPQv9C/0LUg0LzQtdC90Y8g0YPQstC10YDRj9C70Lgg0YfRgtC+INCyINGN0YLQvtC8INGC0LXQv9C10YDRjCDQvdC10YIg0YHQvNGL0YHQu9CwINC4INGB0YLQsNC7INC40LfQsdC10LPQsNGC0Ywg0Y3RgtC+0LPQviDQv9C+LdCy0L7Qt9C80L7QttC90L7RgdGC0LguXHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHtuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yfSkge1xyXG4gICAgdGhpcy5fbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX25hbWVJbnB1dC50ZXh0Q29udGVudDtcclxuICAgIHRoaXMuX2pvYiA9IHRoaXMuX2pvYklucHV0LnRleHRDb250ZW50O1xyXG4gICAgcmV0dXJuIHtuYW1lOiB0aGlzLl9uYW1lLCBqb2I6IHRoaXMuX2pvYn07XHJcbiAgfVxyXG4gICAgXHJcblxyXG4gIHNldFVzZXJJbmZvKHtuYW1lLCBqb2J9KSB7XHJcbiAgICB0aGlzLl9uYW1lSW5wdXQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iSW5wdXQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgfVxyXG59OyIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICBwcm9maWxlUG9wdXBPcGVuQnV0dG9uLFxyXG4gIHBvcHVwUHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwQ2FyZFNlbGVjdG9yLFxyXG4gIGNhcmRQb3B1cE9wZW5CdXR0b24sXHJcbiAgZm9ybVByb2ZpbGVFbGVtZW50LFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBmb3JtQ2FyZEVsZW1lbnQsXHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICBwcm9maWxlSm9iU2VsZWN0b3IsXHJcbiAgcG9wdXBJbWFnZVNlbGVjdG9yLFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgaW5pdGlhbENhcmRzXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcblxyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1DYXJkRWxlbWVudCk7XHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybVByb2ZpbGVFbGVtZW50KTtcclxuXHJcbmNvbnN0IHBvcHVwSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2VTZWxlY3Rvcik7XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoaW1hZ2VEYXRhKSA9PiB7XHJcbiAgcG9wdXBJbWcub3BlbihpbWFnZURhdGEpO1xyXG59XHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGNhcmREYXRhLCB0ZW1wbGF0ZSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkRGF0YSwgdGVtcGxhdGUpO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgcmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgIHtcclxuICAgICAgICBkYXRhOiBjYXJkSXRlbSxcclxuICAgICAgICBoYW5kbGVPcGVuSW1hZ2VQb3B1cDogaGFuZGxlQ2FyZENsaWNrXHJcbiAgICAgIH0sXHJcbiAgICAgICcudGVtcGxhdGUnKTtcclxuICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtQXBwRW5kKGNhcmQpO1xyXG4gIH1cclxufSxcclxuICBjYXJkc0NvbnRhaW5lclxyXG4pO1xyXG5cclxuY29uc3QgcG9wdXBJdGVtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBDYXJkU2VsZWN0b3IsXHJcbiAge2hhbmRsZUZvcm1TdWJtaXQ6IChmb3JtRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoe1xyXG4gICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgaGFuZGxlT3BlbkltYWdlUG9wdXA6IGhhbmRsZUNhcmRDbGlja1xyXG4gICAgfSxcclxuICAgICcudGVtcGxhdGUnKTtcclxuICAgICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW1QcmVwRW5kKGNhcmQpO1xyXG4gICAgICBwb3B1cEl0ZW0uY2xvc2UoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lU2VsZWN0b3I6IHByb2ZpbGVOYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yOiBwcm9maWxlSm9iU2VsZWN0b3IgfSk7XHJcblxyXG5jb25zdCBwb3B1cFVzZXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcclxuICB7XHJcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybURhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZm9ybURhdGEpO1xyXG4gICAgICBwb3B1cFVzZXIuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbik7XHJcblxyXG4vLyDQntGC0LrRgNGL0YLQuNC1IHBvcHVwUHJvZmlsZSDRgSDQv9C+0LTRgdGC0LDQvdC+0LLQutC+0Lkg0LfQvdCw0YfQtdC90LjQuSwg0L3QtdCw0LrRgtC40LLQvdGL0Lwgc3VibWl0INC4INC+0YfQuNGB0YLQutC+0Lkg0L7RiNC40LHQvtC6XHJcbmNvbnN0IG9wZW5Qcm9maWxlUG9wdXAgPSAoKSA9PiB7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuY2xlYXJFcnJvcnMoKTtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgZmlsbFByb2ZpbGVGb3JtSW5wdXRzKCk7XHJcbiAgcG9wdXBVc2VyLm9wZW4oKTtcclxufTtcclxuXHJcbi8vINCX0LDQv9C+0LvQvdC10L3QuNC1INC/0L7Qu9C10LkgcG9wdXBQcm9maWxlINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4XHJcbmNvbnN0IGZpbGxQcm9maWxlRm9ybUlucHV0cyA9ICgpID0+IHtcclxuICBjb25zdCB7bmFtZSwgam9ifSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IGpvYjtcclxufTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUgcG9wdXBDYXJkINGBINC/0YPRgdGC0YvQvNC4INC/0L7Qu9GP0LzQuCDQuCDQvdC10LDQutGC0LjQstC90YvQvCBzdWJtaXQsINC+0YfQuNGB0YLQutCwINC/0L7Qu9C10LksINC+0YfQuNGB0YLQutCwINC+0YjQuNCx0L7QulxyXG5jb25zdCBvcGVuUG9wdXBDYXJkID0gKCkgPT4ge1xyXG4gIGNhcmRGb3JtVmFsaWRhdG9yLmNsZWFyRXJyb3JzKCk7XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIHBvcHVwSXRlbS5vcGVuKCk7XHJcbn07XHJcblxyXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyBwb3B1cEFkZENhcmRcclxuY2FyZFBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cENhcmQpO1xyXG5cclxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8gcG9wdXBQcm9maWxlXHJcbnByb2ZpbGVQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZVBvcHVwKTtcclxuXHJcbnBvcHVwSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwVXNlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmRlZmF1bHRDYXJkTGlzdC5yZW5kZXJJdGVtcygpOyJdLCJuYW1lcyI6WyJwcm9maWxlUG9wdXBPcGVuQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FyZFBvcHVwT3BlbkJ1dHRvbiIsImZvcm1Qcm9maWxlRWxlbWVudCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZm9ybUNhcmRFbGVtZW50IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJmb3JtSW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3NldFZhbGlkYXRpb25FdmVudExpc3RlbmVycyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIkNhcmQiLCJzZXR0aW5ncyIsInRlbXBsYXRlU2VsZWN0b3IiLCJfY2FyZCIsIl9kYXRhIiwiZGF0YSIsIl9vcGVuQ2FyZCIsImhhbmRsZU9wZW5JbWFnZVBvcHVwIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRJbWciLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJsaW5rIiwiYWx0IiwibmFtZSIsIl9lbGVtZW50TGlrZUJ1dHRvbiIsIl9oYW5kbGVDYXJkTGlrZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJ0b2dnbGUiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcG9wdXBTZWxlY3RvciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsIl9iaW5kUG9wdXBzQ2xvc2VCdXR0b25zQ2xpY2tIYW5kbGVycyIsIl9iaW5kUG9wdXBzT3ZlcmxheUNsaWNrSGFuZGxlcnMiLCJfc2V0S2V5SGFuZGxlciIsIl9yZW1vdmVLZXlIYW5kbGVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2VMaW5rIiwiX2ltYWdlVGV4dCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfZm9ybSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX25hbWVJbnB1dCIsIl9qb2JJbnB1dCIsIl9uYW1lIiwiX2pvYiIsImpvYiIsImNhcmRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJwb3B1cEltZyIsImhhbmRsZUNhcmRDbGljayIsImltYWdlRGF0YSIsIm9wZW4iLCJjcmVhdGVDYXJkIiwiY2FyZERhdGEiLCJ0ZW1wbGF0ZSIsImdlbmVyYXRlQ2FyZCIsImRlZmF1bHRDYXJkTGlzdCIsImNhcmRJdGVtIiwiY2FyZCIsImFkZEl0ZW1BcHBFbmQiLCJwb3B1cEl0ZW0iLCJmb3JtRGF0YSIsImFkZEl0ZW1QcmVwRW5kIiwidXNlckluZm8iLCJwb3B1cFVzZXIiLCJzZXRVc2VySW5mbyIsImNsZWFyRXJyb3JzIiwiZ2V0VXNlckluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=