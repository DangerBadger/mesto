(()=>{"use strict";var t=document.querySelector(".profile__edit-button"),e=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__avatar-button");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e);if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===r(e)?e:String(e)}var c=i((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e})),u(this,"_hideInputError",(function(t){var e=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove("".concat(r._inputErrorClass)),e.textContent=""})),u(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),u(this,"clearErrors",(function(){r._inputList.forEach((function(t){r._hideInputError(t)}))})),u(this,"disableSubmitButton",(function(){r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.disabled=!0})),u(this,"enableValidation",(function(){r._setValidationEventListeners()})),u(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),u(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disableSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled"))})),u(this,"_setValidationEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._formElement=e,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}));function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"addItemAppEnd",value:function(t){this._container.append(t)}},{key:"addItemPrepEnd",value:function(t){this._container.prepend(t)}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===p(e)?e:String(e)}var m=function(){function t(e,n,r,o){var i,u,a,c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=function(){c._card.remove(),c._card=null},(u=d(u="deleteCardLocal"))in i?Object.defineProperty(i,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[u]=a,this._data=e.data,this._userId=e.userId,this._ownerId=this._data.owner._id,this._openCard=e.handleOpenImagePopup,this._templateSelector=n,this._handleDeleteConfirm=r,this._handleCardLikeClick=o}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"isLiked",value:function(){var t=this;return this._data.likes.find((function(e){return e._id===t._userId}))}},{key:"countLikes",value:function(t){this._data.likes=t,this._cardLikeCounter.textContent=this._data.likes.length,this.isLiked()?this._elementLikeButton.classList.add("elements__like-button_active"):this._elementLikeButton.classList.remove("elements__like-button_active")}},{key:"generateCard",value:function(){return this._card=this._getTemplate(),this._deleteButton=this._card.querySelector(".elements__delete-btn"),this._elementImg=this._card.querySelector(".elements__img"),this._elementLikeButton=this._card.querySelector(".elements__like-button"),this._cardLikeCounter=this._card.querySelector(".elements__like-counter"),this._setEventListeners(),this._elementImg.src=this._data.link,this._elementImg.alt=this._data.name,this._card.querySelector(".elements__caption").textContent=this._data.name,this.countLikes(this._data.likes),this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this._card}},{key:"_setEventListeners",value:function(){var t=this;this._elementLikeButton.addEventListener("click",(function(){t._handleCardLikeClick(t._data._id)})),this._deleteButton.addEventListener("click",(function(){t._handleDeleteConfirm(t._data._id)})),this._card.querySelector(".elements__img-button").addEventListener("click",(function(){t._handleImageClick()}))}},{key:"_handleImageClick",value:function(){this._openCard(this._data)}}])&&y(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function v(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===h(e)?e:String(e)}var g=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"_handleEscClose",(function(t){"Escape"===t.key&&n.close()})),v(this,"_setKeyHandler",(function(){document.addEventListener("keydown",n._handleEscClose)})),v(this,"_removeKeyHandler",(function(){document.removeEventListener("keydown",n._handleEscClose)})),this._popup=document.querySelector(e)}var e,n;return e=t,(n=[{key:"_bindPopupsOverlayClickHandlers",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target===e.currentTarget&&t.close()}))}},{key:"_bindPopupsCloseButtonsClickHandlers",value:function(){var t=this;this._popup.addEventListener("click",(function(e){e.target.classList.contains("close-btn")&&t.close()}))}},{key:"setEventListeners",value:function(){this._bindPopupsCloseButtonsClickHandlers(),this._bindPopupsOverlayClickHandlers()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),this._setKeyHandler()}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),this._removeKeyHandler()}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===S(o)?o:String(o)),r)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=E(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function E(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function j(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._imageLink=e._popup.querySelector(".popup__figure-image"),e._imageText=e._popup.querySelector(".popup__figure-caption"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;w(P(u.prototype),"open",this).call(this),this._imageLink.src=n,this._imageLink.alt=e,this._imageText.textContent=e}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(g);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===C(o)?o:String(o)),r)}var o}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=q(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},T.apply(this,arguments)}function q(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function A(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(r);if(o){var n=x(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return A(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._inputList=Array.from(n._popup.querySelectorAll(".popup__form-input")),n._submitButton=n._popup.querySelector(".popup__submit-btn"),n._submitButtonText=n._submitButton.textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setInputValues",value:function(t){this._inputList.forEach((function(e){e.value=t[e.name]}))}},{key:"changeHandleFormSubmit",value:function(t){this._handleFormSubmit=t}},{key:"renderLoading",value:function(t,e){this._submitButton.textContent=t?e:this._submitButtonText}},{key:"setEventListeners",value:function(){var t=this;T(x(u.prototype),"setEventListeners",this).call(this),this._form=this._popup.querySelector(".popup__form"),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}},{key:"close",value:function(){T(x(u.prototype),"close",this).call(this),this._form.reset()}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(g);function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===U(o)?o:String(o)),r)}var o}var H=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameInput=document.querySelector(n),this._jobInput=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameInput.textContent,job:this._jobInput.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar;this._nameInput.textContent=e,this._jobInput.textContent=n,this._avatar.src=r}}])&&V(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===D(o)?o:String(o)),r)}var o}var F=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var e,n;return e=t,(n=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))}},{key:"_request",value:function(t,e){return fetch(t,e).then(this._checkResponse)}},{key:"getProfileInfo",value:function(){return this._request("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers})}},{key:"getInitialCards",value:function(){return this._request("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers})}},{key:"editProfile",value:function(t){var e=t.name,n=t.job;return this._request("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:n})})}},{key:"addNewCard",value:function(t){var e=t.name,n=t.link;return this._request("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:n})})}},{key:"deleteCardOnline",value:function(t){return this._request("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers})}},{key:"addLike",value:function(t){return this._request("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers})}},{key:"deleteLike",value:function(t){return this._request("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers})}},{key:"changeAvatar",value:function(t){var e=t.link;return this._request("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J,G=new H({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"}),M=void 0,z={};J={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_inactive",inputErrorClass:"popup__form-input_type_error"},Array.from(document.querySelectorAll(J.formSelector)).forEach((function(t){var e=new c(t,J),n=t.getAttribute("name");z[n]=e,e.enableValidation()}));var $=new F({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"36b86947-e3e3-40c9-9f59-59007cbe88e7","Content-Type":"application/json"}});Promise.all([$.getInitialCards(),$.getProfileInfo()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];M=i._id,G.setUserInfo(i),X.renderItems(o)})).catch((function(t){console.log(t)}));var Q=function(t){Y.open(t)},W=function(t,e){var n=new m(t,e,(function(t){Z.open(),Z.changeHandleFormSubmit((function(){Z.renderLoading(!0,"Удаление..."),$.deleteCardOnline(t).then((function(){n.deleteCardLocal(),Z.close()})).catch((function(t){console.log(t)})).finally((function(){Z.renderLoading(!1)}))}))}),(function(t){n.isLiked()?$.deleteLike(t).then((function(t){n.countLikes(t.likes)})).catch((function(t){console.log(t)})):$.addLike(t).then((function(t){n.countLikes(t.likes)})).catch((function(t){console.log(t)}))}));return n.generateCard()},X=new f({items:[],renderer:function(t){var e=W({data:t,userId:M,handleOpenImagePopup:Q},".template");X.addItemAppEnd(e)}},".elements__list"),Y=new O("#popupImage"),Z=new R("#popupDeleteConfirm"),tt=new R("#popupAvatar",(function(t){tt.renderLoading(!0,"Сохранение..."),$.changeAvatar(t).then((function(t){G.setUserInfo(t),tt.close()})).catch((function(t){console.log(t)})).finally((function(){tt.renderLoading(!1)}))})),et=new R("#popupCard",(function(t){et.renderLoading(!0,"Создание..."),$.addNewCard(t).then((function(t){var e=W({data:t,userId:M,handleOpenImagePopup:Q},".template");X.addItemPrepEnd(e),et.close()})).catch((function(t){console.log(t)})).finally((function(){et.renderLoading(!1)}))})),nt=new R("#popupProfile",(function(t){nt.renderLoading(!0,"Сохранение..."),$.editProfile(t).then((function(t){G.setUserInfo(t),nt.close()})).catch((function(t){console.log(t)})).finally((function(){nt.renderLoading(!1)}))}));e.addEventListener("click",(function(){z.card.clearErrors(),z.card.disableSubmitButton(),et.open()})),t.addEventListener("click",(function(){z.profile.clearErrors(),z.profile.disableSubmitButton();var t=G.getUserInfo();nt.setInputValues(t),nt.open()})),n.addEventListener("click",(function(){z.avatar.clearErrors(),z.avatar.disableSubmitButton(),tt.open()})),Y.setEventListeners(),nt.setEventListeners(),et.setEventListeners(),Z.setEventListeners(),tt.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQU0saUJBQzlCeEIsRUFBSXdDLFlBQVlOLEdBQ2JuRCxNQUFLLFNBQUMwRCxHQUNMakQsRUFBU2UsWUFBWWtDLEdBQ3JCRixHQUFVOUcsT0FDWixJQUNDaUYsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLElBQ0NnQixTQUFRLFdBQ1BZLEdBQVVmLGVBQWMsRUFDMUIsR0FDSixJQTBCRmpNLEVBQW9CK0IsaUJBQWlCLFNBYmYsV0FDcEJvSSxFQUFxQixLQUFFZ0QsY0FDdkJoRCxFQUFxQixLQUFFdkksc0JBQ3ZCaUwsR0FBVW5CLE1BQ1osSUFZQTdMLEVBQXVCa0MsaUJBQWlCLFNBekJmLFdBQ3ZCb0ksRUFBd0IsUUFBRWdELGNBQzFCaEQsRUFBd0IsUUFBRXZJLHNCQUMxQixJQUFNd0wsRUFBY25ELEVBQVNvRCxjQUM3QkwsR0FBVU0sZUFBZUYsR0FDekJKLEdBQVV0QixNQUNaLElBc0JBekwsRUFBc0I4QixpQkFBaUIsU0FiZixXQUN0Qm9JLEVBQXVCLE9BQUVnRCxjQUN6QmhELEVBQXVCLE9BQUV2SSxzQkFDekI4SyxHQUFZaEIsTUFDZCxJQVdBRCxFQUFTOEIsb0JBQ1RQLEdBQVVPLG9CQUNWVixHQUFVVSxvQkFDVnhCLEVBQWF3QixvQkFDYmIsR0FBWWEsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwcm9maWxlUG9wdXBPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cENhcmRTZWxlY3RvciA9ICcjcG9wdXBDYXJkJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwUHJvZmlsZVNlbGVjdG9yID0gJyNwb3B1cFByb2ZpbGUnO1xyXG5leHBvcnQgY29uc3QgY2FyZFBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJylcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX25hbWUnO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYlNlbGVjdG9yID0gJy5wcm9maWxlX19qb2InO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gJy5wcm9maWxlX19hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSAnLmVsZW1lbnRzX19saXN0JztcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItYnV0dG9uJylcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLWlucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0LWJ0bicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnRuX2luYWN0aXZlJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yJyxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZykge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGZvcm1JbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtmb3JtSW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBmb3JtSW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH07XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGZvcm1JbnB1dCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Zm9ybUlucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgZm9ybUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoYCR7dGhpcy5faW5wdXRFcnJvckNsYXNzfWApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRj1xyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUlucHV0KSA9PiB7XHJcbiAgICBpZiAoIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICAvLyDQntGH0LjRidCw0LXQvCDQvtGI0LjQsdC60LhcclxuICAgY2xlYXJFcnJvcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1JbnB1dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCU0LXQu9Cw0LXQvCDQutC90L7Qv9C60Lgg0L3QtdCw0LrRgtC40LLQvdGL0LzQuCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCBwb3B1cCBcclxuICBkaXNhYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgLy8g0JLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCBpc1ZhbGlkINC90LAg0LrQsNC20LTRi9C5INCy0LLQvtC0INGB0LjQvNCy0L7Qu9CwXHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldFZhbGlkYXRpb25FdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGZvcm1JbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINCj0L/RgNCw0LLQu9C10L3QuNC1INGB0L7RgdGC0L7Rj9C90LjQtdC8INC60L3QvtC/0LrQuFxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQodC+0LHQuNGA0LDQtdC8INCy0YHQtSDRgdC70YPRiNCw0YLQtdC70LhcclxuICBfc2V0VmFsaWRhdGlvbkV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIGZvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUlucHV0KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtQXBwRW5kKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtUHJlcEVuZChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTsgLy8g0J3QtSDQvNC+0LPRgyDQvtGB0LjQu9C40YLRjCDQu9C+0LPQuNC60YMsINCy0L7Qt9C80L7QttC90L4g0LLQtdGA0L3Rg9GB0Ywg0Log0YDQtdCw0LvQuNC30LDRhtC40Lgg0Y3RgtC+0LPQviBcItCc0L7QttC90L4g0LvRg9GH0YjQtVwiINC/0L7Qt9C20LVcclxuICB9XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZURlbGV0ZUNvbmZpcm0sIGhhbmRsZUNhcmRMaWtlQ2xpY2spIHtcclxuICAgIHRoaXMuX2RhdGEgPSBzZXR0aW5ncy5kYXRhO1xyXG4gICAgdGhpcy5fdXNlcklkID0gc2V0dGluZ3MudXNlcklkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IHRoaXMuX2RhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fb3BlbkNhcmQgPSBzZXR0aW5ncy5oYW5kbGVPcGVuSW1hZ2VQb3B1cDtcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ29uZmlybSA9IGhhbmRsZURlbGV0ZUNvbmZpcm07XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZUNsaWNrID0gaGFuZGxlQ2FyZExpa2VDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0nKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIGNvbnN0IGlzTGlrZWRCeVVzZXIgPSB0aGlzLl9kYXRhLmxpa2VzLmZpbmQodXNlciA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKVxyXG5cclxuICAgIHJldHVybiBpc0xpa2VkQnlVc2VyXHJcbiAgfVxyXG5cclxuICBjb3VudExpa2VzKGFjdHVhbExpa2VzKSB7XHJcbiAgICB0aGlzLl9kYXRhLmxpa2VzID0gYWN0dWFsTGlrZXNcclxuICAgIC8vIGNvbnN0IGNhcmRMaWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saWtlLWNvdW50ZXInKVxyXG4gICAgdGhpcy5fY2FyZExpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGhcclxuXHJcbiAgICBpZih0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50c19fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbGVtZW50TGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50c19fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkTG9jYWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2FyZCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19kZWxldGUtYnRuJyk7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1nID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltZycpO1xyXG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZS1idXR0b24nKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19saWtlLWNvdW50ZXInKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudEltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1nLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcclxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXB0aW9uJykudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcblxyXG4gICAgdGhpcy5jb3VudExpa2VzKHRoaXMuX2RhdGEubGlrZXMpO1xyXG5cclxuICAgIGlmKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCl7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlQ2xpY2sodGhpcy5fZGF0YS5faWQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNvbmZpcm0odGhpcy5fZGF0YS5faWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltZy1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbWFnZUNsaWNrKCkge1xyXG4gICAgdGhpcy5fb3BlbkNhcmQodGhpcy5fZGF0YSk7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPIHBvcHVwINC90LAgZXNjXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINGD0YHRgtCw0L3QvtCy0LrQuCDRgdC70YPRiNCw0YLQtdC70Y8g0LfQsNC60YDRi9GC0LjRjyBwb3B1cCDQvdCwIGVzYyDQvdCwINCy0LXRgdGMINC00L7QutGD0LzQtdC90YJcclxuICBfc2V0S2V5SGFuZGxlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyDQodC90Y/RgtC40LUg0YHQu9GD0YjQsNGC0LXQu9GPINC30LDQutGA0YvRgtC40Y8gcG9wdXAg0L3QsCBlc2Mg0L3QsCDQstC10YHRjCDQtNC+0LrRg9C80LXQvdGCXHJcbiAgX3JlbW92ZUtleUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8g0JfQsNC60YDRi9GC0LjQtSBwb3B1cCDQvdCwINC+0LLQtdGA0LvQtdC1XHJcbiAgX2JpbmRQb3B1cHNPdmVybGF5Q2xpY2tIYW5kbGVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0JfQsNC60YDRi9GC0LjQtSBwb3B1cCDQvdCwINC60YDQtdGB0YLQuNC60LVcclxuICBfYmluZFBvcHVwc0Nsb3NlQnV0dG9uc0NsaWNrSGFuZGxlcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1idG4nKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfTtcclxuICAgIH0pXHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9iaW5kUG9wdXBzQ2xvc2VCdXR0b25zQ2xpY2tIYW5kbGVycygpO1xyXG4gICAgdGhpcy5fYmluZFBvcHVwc092ZXJsYXlDbGlja0hhbmRsZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgdGhpcy5fc2V0S2V5SGFuZGxlcigpO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB0aGlzLl9yZW1vdmVLZXlIYW5kbGVyKCk7XHJcbiAgfTtcclxufTsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VMaW5rID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19maWd1cmUtaW1hZ2UnKTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmlndXJlLWNhcHRpb24nKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgb3Blbih7bmFtZSwgbGlua30pIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2ltYWdlTGluay5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2VMaW5rLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gIH07XHJcbn07XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19mb3JtLWlucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnRuJyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcblxyXG4gIGNoYW5nZUhhbmRsZUZvcm1TdWJtaXQobmV3SGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IG5ld0hhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQpIHtcclxuICAgIGlmKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG5cclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHtuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pIHtcclxuICAgIHRoaXMuX25hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgbmFtZSA9IHRoaXMuX25hbWVJbnB1dC50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IGpvYiA9IHRoaXMuX2pvYklucHV0LnRleHRDb250ZW50O1xyXG4gICAgcmV0dXJuIHtuYW1lLCBqb2J9O1xyXG4gIH1cclxuICAgIFxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBhdmF0YXJ9KSB7XHJcbiAgICB0aGlzLl9uYW1lSW5wdXQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iSW5wdXQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApXHJcbiAgfTtcclxuXHJcblxyXG4gIF9yZXF1ZXN0KHVybCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZ2V0UHJvZmlsZUluZm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChcclxuICAgICAgYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgIC8vIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgIC8vIG1ldGhvZDogXCJHRVRcIixcclxuICAgIC8vIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIC8vIH0pXHJcbiAgICAvLyAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgLy8gLmNhdGNoKChlcnIpID0+IHtcclxuICAgIC8vICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgLy8gfSlcclxuICB9O1xyXG4gIFxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChcclxuICAgICAgYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICB9O1xyXG5cclxuICBlZGl0UHJvZmlsZSh7bmFtZSwgam9ifSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoXHJcbiAgICAgIGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGFib3V0OiBqb2JcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZCh7bmFtZSwgbGlua30pIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KFxyXG4gICAgICBgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGxpbmtcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZE9ubGluZShjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KFxyXG4gICAgICBgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoXHJcbiAgICAgIGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChcclxuICAgICAgYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXZhdGFyKHtsaW5rfSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoXHJcbiAgICAgIGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGF2YXRhcjogbGlua1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgfTtcclxuICBcclxuXHJcbn0iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZVBvcHVwT3BlbkJ1dHRvbixcclxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcclxuICBwb3B1cENhcmRTZWxlY3RvcixcclxuICBjYXJkUG9wdXBPcGVuQnV0dG9uLFxyXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3IsXHJcbiAgcHJvZmlsZUpvYlNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcixcclxuICBjYXJkc0NvbnRhaW5lcixcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGF2YXRhclBvcHVwT3BlbkJ1dHRvbixcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBwcm9maWxlTmFtZVNlbGVjdG9yLFxyXG4gIGpvYlNlbGVjdG9yOiBwcm9maWxlSm9iU2VsZWN0b3IsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IHByb2ZpbGVBdmF0YXJTZWxlY3RvclxyXG59KTtcclxuXHJcbmxldCB1c2VySWQgPSB1bmRlZmluZWQ7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKVxyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgY29uZmlnKVxyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKVxyXG5cclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NScsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzM2Yjg2OTQ3LWUzZTMtNDBjOS05ZjU5LTU5MDA3Y2JlODhlNycsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG59KTtcclxuXHJcbiAgUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFByb2ZpbGVJbmZvKCldKVxyXG4gICAgLnRoZW4oKFtjYXJkc0FycmF5LCB1c2VyRGF0YV0pID0+IHtcclxuICAgICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSlcclxuICAgICAgXHJcbiAgICAgIGRlZmF1bHRDYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkc0FycmF5KVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9KTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChpbWFnZURhdGEpID0+IHtcclxuICBwb3B1cEltZy5vcGVuKGltYWdlRGF0YSk7XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZERhdGEsIHRlbXBsYXRlKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICB0ZW1wbGF0ZSxcclxuICAgIChjYXJkSWQpID0+IHtcclxuICAgICAgcG9wdXBDb25maXJtLm9wZW4oKVxyXG4gICAgICBwb3B1cENvbmZpcm0uY2hhbmdlSGFuZGxlRm9ybVN1Ym1pdCgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBDb25maXJtLnJlbmRlckxvYWRpbmcodHJ1ZSwgJ9Cj0LTQsNC70LXQvdC40LUuLi4nKVxyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkT25saW5lKGNhcmRJZClcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5kZWxldGVDYXJkTG9jYWwoKVxyXG4gICAgICAgICAgICBwb3B1cENvbmZpcm0uY2xvc2UoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwQ29uZmlybS5yZW5kZXJMb2FkaW5nKGZhbHNlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICAoY2FyZElkKSA9PiB7XHJcbiAgICAgIGlmIChjYXJkLmlzTGlrZWQoKSkge1xyXG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5jb3VudExpa2VzKHJlcy5saWtlcylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZClcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5jb3VudExpa2VzKHJlcy5saWtlcylcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbn07XHJcblxyXG5jb25zdCBkZWZhdWx0Q2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgaXRlbXM6IFtdLFxyXG4gIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKFxyXG4gICAgICB7XHJcbiAgICAgICAgZGF0YTogY2FyZEl0ZW0sXHJcbiAgICAgICAgdXNlcklkLFxyXG4gICAgICAgIGhhbmRsZU9wZW5JbWFnZVBvcHVwOiBoYW5kbGVDYXJkQ2xpY2tcclxuICAgICAgfSxcclxuICAgICAgJy50ZW1wbGF0ZScpO1xyXG4gICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW1BcHBFbmQoY2FyZCk7XHJcbiAgfVxyXG59LFxyXG4gIGNhcmRzQ29udGFpbmVyXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI3BvcHVwSW1hZ2UnKTtcclxuXHJcbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXBEZWxldGVDb25maXJtJyk7XHJcblxyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcjcG9wdXBBdmF0YXInLFxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGZvcm1EYXRhKSB7XHJcbiAgICBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUsICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXHJcbiAgICBhcGkuY2hhbmdlQXZhdGFyKGZvcm1EYXRhKVxyXG4gICAgICAudGhlbigoYXZhdGFyKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oYXZhdGFyKTtcclxuICAgICAgICBwb3B1cEF2YXRhci5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSlcclxuICAgICAgfSlcclxuICB9XHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cENhcmRTZWxlY3RvcixcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChmb3JtRGF0YSkge1xyXG4gICAgcG9wdXBJdGVtLnJlbmRlckxvYWRpbmcodHJ1ZSwgJ9Ch0L7Qt9C00LDQvdC40LUuLi4nKVxyXG4gICAgYXBpLmFkZE5ld0NhcmQoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgaGFuZGxlT3BlbkltYWdlUG9wdXA6IGhhbmRsZUNhcmRDbGlja1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICcudGVtcGxhdGUnKVxyXG4gICAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtUHJlcEVuZChjYXJkKVxyXG4gICAgICAgIHBvcHVwSXRlbS5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBJdGVtLnJlbmRlckxvYWRpbmcoZmFsc2UpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG4pO1xyXG5cclxuY29uc3QgcG9wdXBVc2VyID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBQcm9maWxlU2VsZWN0b3IsXHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUZvcm1TdWJtaXQoZm9ybURhdGEpIHtcclxuICAgIHBvcHVwVXNlci5yZW5kZXJMb2FkaW5nKHRydWUsICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpXHJcbiAgICBhcGkuZWRpdFByb2ZpbGUoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChwcm9maWxlSW5mbykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGVJbmZvKVxyXG4gICAgICAgIHBvcHVwVXNlci5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBVc2VyLnJlbmRlckxvYWRpbmcoZmFsc2UpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG4pO1xyXG5cclxuLy8g0J7RgtC60YDRi9GC0LjQtSBwb3B1cFByb2ZpbGUg0YEg0L/QvtC00YHRgtCw0L3QvtCy0LrQvtC5INC30L3QsNGH0LXQvdC40LksINC90LXQsNC60YLQuNCy0L3Ri9C8IHN1Ym1pdCDQuCDQvtGH0LjRgdGC0LrQvtC5INC+0YjQuNCx0L7QulxyXG5jb25zdCBvcGVuUHJvZmlsZVBvcHVwID0gKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzWydwcm9maWxlJ10uY2xlYXJFcnJvcnMoKVxyXG4gIGZvcm1WYWxpZGF0b3JzWydwcm9maWxlJ10uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpXHJcbiAgY29uc3QgaW5waXRWYWx1ZXMgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHBvcHVwVXNlci5zZXRJbnB1dFZhbHVlcyhpbnBpdFZhbHVlcyk7XHJcbiAgcG9wdXBVc2VyLm9wZW4oKTtcclxufTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUgcG9wdXBDYXJkINGBINC/0YPRgdGC0YvQvNC4INC/0L7Qu9GP0LzQuCDQuCDQvdC10LDQutGC0LjQstC90YvQvCBzdWJtaXQsINC+0YfQuNGB0YLQutCwINC/0L7Qu9C10LksINC+0YfQuNGB0YLQutCwINC+0YjQuNCx0L7QulxyXG5jb25zdCBvcGVuUG9wdXBDYXJkID0gKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzWydjYXJkJ10uY2xlYXJFcnJvcnMoKVxyXG4gIGZvcm1WYWxpZGF0b3JzWydjYXJkJ10uZGlzYWJsZVN1Ym1pdEJ1dHRvbigpXHJcbiAgcG9wdXBJdGVtLm9wZW4oKTtcclxufTtcclxuXHJcbmNvbnN0IG9wZW5BdmF0YXJQb3B1cCA9ICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1snYXZhdGFyJ10uY2xlYXJFcnJvcnMoKVxyXG4gIGZvcm1WYWxpZGF0b3JzWydhdmF0YXInXS5kaXNhYmxlU3VibWl0QnV0dG9uKClcclxuICBwb3B1cEF2YXRhci5vcGVuKCk7XHJcbn1cclxuXHJcbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPIHBvcHVwQWRkQ2FyZFxyXG5jYXJkUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwQ2FyZCk7XHJcblxyXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyBwb3B1cFByb2ZpbGVcclxucHJvZmlsZVBvcHVwT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qcm9maWxlUG9wdXApO1xyXG5cclxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8gcG9wdXBBdmF0YXJcclxuYXZhdGFyUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkF2YXRhclBvcHVwKTtcclxuXHJcbnBvcHVwSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwVXNlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7Il0sIm5hbWVzIjpbInByb2ZpbGVQb3B1cE9wZW5CdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJkUG9wdXBPcGVuQnV0dG9uIiwiYXZhdGFyUG9wdXBPcGVuQnV0dG9uIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1JbnB1dCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2lucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfc2V0VmFsaWRhdGlvbkV2ZW50TGlzdGVuZXJzIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ0aGlzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIkNhcmQiLCJzZXR0aW5ncyIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVEZWxldGVDb25maXJtIiwiaGFuZGxlQ2FyZExpa2VDbGljayIsIl9jYXJkIiwiX2RhdGEiLCJkYXRhIiwiX3VzZXJJZCIsInVzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfb3BlbkNhcmQiLCJoYW5kbGVPcGVuSW1hZ2VQb3B1cCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZURlbGV0ZUNvbmZpcm0iLCJfaGFuZGxlQ2FyZExpa2VDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJsaWtlcyIsImZpbmQiLCJ1c2VyIiwiYWN0dWFsTGlrZXMiLCJfY2FyZExpa2VDb3VudGVyIiwibGVuZ3RoIiwiaXNMaWtlZCIsIl9lbGVtZW50TGlrZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsIl9kZWxldGVCdXR0b24iLCJfZWxlbWVudEltZyIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImxpbmsiLCJhbHQiLCJuYW1lIiwiY291bnRMaWtlcyIsInN0eWxlIiwiZGlzcGxheSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3BvcHVwIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiX2JpbmRQb3B1cHNDbG9zZUJ1dHRvbnNDbGlja0hhbmRsZXJzIiwiX2JpbmRQb3B1cHNPdmVybGF5Q2xpY2tIYW5kbGVycyIsIl9zZXRLZXlIYW5kbGVyIiwiX3JlbW92ZUtleUhhbmRsZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZUxpbmsiLCJfaW1hZ2VUZXh0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVGV4dCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIm5ld0hhbmRsZUZvcm1TdWJtaXQiLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsIl9mb3JtIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lSW5wdXQiLCJfam9iSW5wdXQiLCJfYXZhdGFyIiwiam9iIiwiYWJvdXQiLCJhdmF0YXIiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInVybCIsIm9wdGlvbnMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIl9yZXF1ZXN0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJjb25maWciLCJ1c2VySW5mbyIsInVuZGVmaW5lZCIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFByb2ZpbGVJbmZvIiwiY2FyZHNBcnJheSIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJkZWZhdWx0Q2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImhhbmRsZUNhcmRDbGljayIsImltYWdlRGF0YSIsInBvcHVwSW1nIiwib3BlbiIsImNyZWF0ZUNhcmQiLCJjYXJkRGF0YSIsInRlbXBsYXRlIiwiY2FyZCIsInBvcHVwQ29uZmlybSIsImNoYW5nZUhhbmRsZUZvcm1TdWJtaXQiLCJyZW5kZXJMb2FkaW5nIiwiZGVsZXRlQ2FyZE9ubGluZSIsImRlbGV0ZUNhcmRMb2NhbCIsImZpbmFsbHkiLCJkZWxldGVMaWtlIiwiYWRkTGlrZSIsImdlbmVyYXRlQ2FyZCIsImNhcmRJdGVtIiwiYWRkSXRlbUFwcEVuZCIsInBvcHVwQXZhdGFyIiwiZm9ybURhdGEiLCJjaGFuZ2VBdmF0YXIiLCJwb3B1cEl0ZW0iLCJhZGROZXdDYXJkIiwiYWRkSXRlbVByZXBFbmQiLCJwb3B1cFVzZXIiLCJlZGl0UHJvZmlsZSIsInByb2ZpbGVJbmZvIiwiY2xlYXJFcnJvcnMiLCJpbnBpdFZhbHVlcyIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiLCJzZXRFdmVudExpc3RlbmVycyJdLCJzb3VyY2VSb290IjoiIn0=