(()=>{"use strict";var t=document.querySelector(".profile__edit-button"),e=document.querySelector(".profile__add-button"),n=document.querySelector("#popupFormAvatar"),r=document.querySelector("#popupFormProfile"),o=r.querySelector("#input-name"),i=r.querySelector("#input-job"),u=document.querySelector("#popupFormCard"),a=document.querySelector(".profile__avatar-button"),c={formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_inactive",inputErrorClass:"popup__form-input_type_error"};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===l(e)?e:String(e)}var y=f((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e})),p(this,"_hideInputError",(function(t){var e=r._formElement.querySelector("#".concat(t.id,"-error"));t.classList.remove("".concat(r._inputErrorClass)),e.textContent=""})),p(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),p(this,"clearErrors",(function(){r._inputList.forEach((function(t){r._hideInputError(t)}))})),p(this,"disableSubmitButton",(function(){r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.disabled=!0})),p(this,"enableValidation",(function(){r._setValidationEventListeners()})),p(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),p(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r.disableSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled"))})),p(this,"_setValidationEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}));function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===m(o)?o:String(o)),r)}var o}var b=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItemAppEnd",value:function(t){this._container.append(t)}},{key:"addItemPrepEnd",value:function(t){this._container.prepend(t)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===v(e)?e:String(e)}var g=function(){function t(e,n,r,o){var i,u,a,c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=function(){c._card.remove(),c._card=null},(u=S(u="deleteCardLocal"))in i?Object.defineProperty(i,u,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[u]=a,this._data=e.data,this._userId=e.userId,this._ownerId=this._data.owner._id,this._openCard=e.handleOpenImagePopup,this._templateSelector=n,this._handleDeleteConfirm=r,this._handleCardLikeClick=o}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"isLiked",value:function(){var t=this;return this._data.likes.find((function(e){return e._id===t._userId}))}},{key:"countLikes",value:function(t){this._data.likes=t,this._card.querySelector(".elements__like-counter").textContent=this._data.likes.length,this.isLiked()?this._elementLikeButton.classList.add("elements__like-button_active"):this._elementLikeButton.classList.remove("elements__like-button_active")}},{key:"generateCard",value:function(){return this._card=this._getTemplate(),this._deleteButton=this._card.querySelector(".elements__delete-btn"),this._elementImg=this._card.querySelector(".elements__img"),this._setEventListeners(),this._elementImg.src=this._data.link,this._elementImg.alt=this._data.name,this._card.querySelector(".elements__caption").textContent=this._data.name,this.countLikes(this._data.likes),this._ownerId!==this._userId&&(this._deleteButton.style.display="none"),this._card}},{key:"_setEventListeners",value:function(){var t=this;this._elementLikeButton=this._card.querySelector(".elements__like-button"),this._elementLikeButton.addEventListener("click",(function(){t._handleCardLikeClick(t._data._id)})),this._deleteButton.addEventListener("click",(function(){t._handleDeleteConfirm(t._data._id)})),this._card.querySelector(".elements__img-button").addEventListener("click",(function(){t._handleImageClick()}))}},{key:"_handleImageClick",value:function(){this._openCard(this._data)}}])&&_(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function E(t,e,n){return(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===k(e)?e:String(e)}var P=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"_handleEscClose",(function(t){"Escape"===t.key&&n.close()})),E(this,"_setKeyHandler",(function(){document.addEventListener("keydown",n._handleEscClose)})),E(this,"_removeKeyHandler",(function(){document.removeEventListener("keydown",n._handleEscClose)})),this._popupSelector=document.querySelector(e)}var e,n;return e=t,(n=[{key:"_bindPopupsOverlayClickHandlers",value:function(){var t=this;this._popupSelector.addEventListener("mousedown",(function(e){e.target===e.currentTarget&&t.close()}))}},{key:"_bindPopupsCloseButtonsClickHandlers",value:function(){var t=this;this._popupSelector.addEventListener("click",(function(e){e.target.classList.contains("close-btn")&&t.close()}))}},{key:"setEventListeners",value:function(){this._bindPopupsCloseButtonsClickHandlers(),this._bindPopupsOverlayClickHandlers()}},{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),this._setKeyHandler()}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),this._removeKeyHandler()}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===L(o)?o:String(o)),r)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=I(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function I(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function B(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._imageLink=e._popupSelector.querySelector(".popup__figure-image"),e._imageText=e._popupSelector.querySelector(".popup__figure-caption"),e}return e=u,(n=[{key:"open",value:function(t){var e=t.name,n=t.link;O(q(u.prototype),"open",this).call(this),this._imageLink.src=n,this._imageLink.alt=e,this._imageText.textContent=e}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===R(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=V(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function V(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=F(t)););return t}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}function D(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return D(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._inputList=Array.from(n._popupSelector.querySelectorAll(".popup__form-input")),n._submitButton=n._popupSelector.querySelector(".popup__submit-btn"),n._submitButtonText=n._submitButton.textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"changeHandleFormSubmit",value:function(t){this._handleFormSubmit=t}},{key:"renderLoading",value:function(t){t?"Сохранить"===this._submitButtonText?this._submitButton.textContent="Сохранение...":this._submitButton.textContent="Создание...":this._submitButton.textContent=this._submitButtonText}},{key:"setEventListeners",value:function(){var t=this;A(F(u.prototype),"setEventListeners",this).call(this),this._form=this._popupSelector.querySelector(".popup__form"),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}},{key:"close",value:function(){A(F(u.prototype),"close",this).call(this),this._form.reset()}}])&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==K(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===K(o)?o:String(o)),r)}var o}var G=function(){function t(e){var n=e.nameSelector,r=e.jobSelector,o=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameInput=document.querySelector(n),this._jobInput=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return this._name=this._nameInput.textContent,this._job=this._jobInput.textContent,{name:this._name,job:this._job}}},{key:"setUserInfo",value:function(t){t.name&&(this._nameInput.textContent=t.name),t.about&&(this._jobInput.textContent=t.about),t.avatar&&(this._avatar.src=t.avatar)}}])&&J(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e);if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key,"string"),"symbol"===z(o)?o:String(o)),r)}var o}var Q=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var e,n;return e=t,(n=[{key:"getProfileInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"editProfile",value:function(t){var e=t.name,n=t.job;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:n})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"addNewCard",value:function(t){var e=t.name,n=t.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:n})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"deleteCardOnline",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"addLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"deleteLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}},{key:"changeAvatar",value:function(t){var e=t.link;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(t){return t.ok?t.json():Promise.reject("Ошибка ".concat(t.status," ").concat(t.statusText))})).catch((function(t){console.log(t)}))}}])&&M(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),W=void 0,X=new y(c,u),Y=new y(c,r),Z=new y(c,n),$=new Q({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"36b86947-e3e3-40c9-9f59-59007cbe88e7","Content-Type":"application/json"}});$.getProfileInfo().then((function(t){ct.setUserInfo(t),W=t._id})),$.getInitialCards().then((function(t){t.forEach((function(t){var e=et({data:t,userId:W,handleOpenImagePopup:tt},".template");nt.addItemAppEnd(e)}))}));var tt=function(t){rt.open(t)},et=function(t,e){var n=new g(t,e,(function(t){ot.open(),ot.changeHandleFormSubmit((function(){$.deleteCardOnline(t).then((function(){n.deleteCardLocal(),ot.close()}))}))}),(function(t){n.isLiked()?$.deleteLike(t).then((function(t){n.countLikes(t.likes)})):$.addLike(t).then((function(t){n.countLikes(t.likes)}))}));return n.generateCard()},nt=new b({items:[],renderer:function(t){var e=et({data:t,handleOpenImagePopup:tt},".template");nt.addItemAppEnd(e)}},".elements__list"),rt=new x("#popupImage"),ot=new N("#popupDeleteConfirm"),it=new N("#popupAvatar",(function(t){it.renderLoading(!0),$.changeAvatar(t).then((function(t){ct.setUserInfo(t),it.close()})).finally((function(){it.renderLoading(!1)}))})),ut=new N("#popupCard",(function(t){ut.renderLoading(!0),$.addNewCard(t).then((function(t){var e=et({data:t,userId:W,handleOpenImagePopup:tt},".template");nt.addItemPrepEnd(e),ut.close()})).finally((function(){ut.renderLoading(!1)}))})),at=new N("#popupProfile",(function(t){at.renderLoading(!0),$.editProfile(t).then((function(t){ct.setUserInfo(t),at.close()})).finally((function(){at.renderLoading(!1)}))})),ct=new G({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"});e.addEventListener("click",(function(){X.clearErrors(),X.disableSubmitButton(),ut.open()})),t.addEventListener("click",(function(){var t,e,n;Y.clearErrors(),Y.disableSubmitButton(),t=ct.getUserInfo(),e=t.name,n=t.job,o.value=e,i.value=n,at.open()})),a.addEventListener("click",(function(){Z.clearErrors(),Z.disableSubmitButton(),it.open()})),rt.setEventListeners(),at.setEventListeners(),ut.setEventListeners(),ot.setEventListeners(),it.setEventListeners(),X.enableValidation(),Y.enableValidation(),Z.enableValidation(),nt.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQU8sSUFBTUEsRUFBeUJDLFNBQVNDLGNBQWMseUJBR2hEQyxFQUFzQkYsU0FBU0MsY0FBYyx3QkFDN0NFLEVBQW9CSCxTQUFTQyxjQUFjLG9CQUMzQ0csRUFBcUJKLFNBQVNDLGNBQWMscUJBQzVDSSxFQUFZRCxFQUFtQkgsY0FBYyxlQUM3Q0ssRUFBV0YsRUFBbUJILGNBQWMsY0FDNUNNLEVBQWtCUCxTQUFTQyxjQUFjLGtCQUt6Q08sRUFBd0JSLFNBQVNDLGNBQWMsMkJBQy9DUSxFQUFtQixDQUM5QkMsYUFBYyxlQUNkQyxjQUFlLHFCQUNmQyxxQkFBc0IscUJBQ3RCQyxvQkFBcUIsNkJBQ3JCQyxnQkFBaUIsZ0MsaTZCQ25CRUMsRUFBYSxHQUNoQyxXQUFZTixFQUFrQk8sR0FBYSxZLDRGQUFBLG1DQVd6QixTQUFDQyxFQUFXQyxHQUM1QixJQUFNQyxFQUFlLEVBQUtDLGFBQWFuQixjQUFjLElBQUQsT0FBS2dCLEVBQVVJLEdBQUUsV0FDckVKLEVBQVVLLFVBQVVDLElBQUksRUFBS0Msa0JBQzdCTCxFQUFhTSxZQUFjUCxDQUM3QixJQUFDLDBCQUdpQixTQUFDRCxHQUNqQixJQUFNRSxFQUFlLEVBQUtDLGFBQWFuQixjQUFjLElBQUQsT0FBS2dCLEVBQVVJLEdBQUUsV0FDckVKLEVBQVVLLFVBQVVJLE9BQU8sR0FBRCxPQUFJLEVBQUtGLG1CQUNuQ0wsRUFBYU0sWUFBYyxFQUM3QixJQUFDLDhCQUdxQixTQUFDUixHQUNoQkEsRUFBVVUsU0FBU0MsTUFHdEIsRUFBS0MsZ0JBQWdCWixHQUZyQixFQUFLYSxnQkFBZ0JiLEVBQVdBLEVBQVVjLGtCQUk5QyxJQUFDLHNCQUdjLFdBQ2IsRUFBS0MsV0FBV0MsU0FBUSxTQUFDaEIsR0FDdkIsRUFBS1ksZ0JBQWdCWixFQUN2QixHQUNGLElBQUMsOEJBR3FCLFdBQ3BCLEVBQUtpQixlQUFlWixVQUFVQyxJQUFJLEVBQUtZLHNCQUN2QyxFQUFLRCxlQUFlRSxVQUFXLENBQ2pDLElBQUMsMkJBR2tCLFdBQ2pCLEVBQUtDLDhCQUNQLElBQUMsMkJBRWtCLFdBQ2pCLE9BQU8sRUFBS0wsV0FBV00sTUFBSyxTQUFDckIsR0FDM0IsT0FBUUEsRUFBVVUsU0FBU0MsS0FDN0IsR0FDRixJQUFDLDZCQUdvQixXQUNmLEVBQUtXLG1CQUNQLEVBQUtDLHVCQUVMLEVBQUtOLGVBQWVaLFVBQVVJLE9BQU8sRUFBS1Msc0JBQzFDLEVBQUtELGVBQWVPLGdCQUFnQixZQUV4QyxJQUFDLHVDQUc4QixXQUM3QixFQUFLQyxxQkFFTCxFQUFLVixXQUFXQyxTQUFRLFNBQUNoQixHQUN2QkEsRUFBVTBCLGlCQUFpQixTQUFTLFdBQ2xDLEVBQUtDLG9CQUFvQjNCLEdBQ3pCLEVBQUt5QixvQkFDUCxHQUNGLEdBQ0YsSUE1RUVHLEtBQUtDLGVBQWlCckMsRUFBaUJFLGNBQ3ZDa0MsS0FBS0Usc0JBQXdCdEMsRUFBaUJHLHFCQUM5Q2lDLEtBQUtWLHFCQUF1QjFCLEVBQWlCSSxvQkFDN0NnQyxLQUFLckIsaUJBQW1CZixFQUFpQkssZ0JBQ3pDK0IsS0FBS3pCLGFBQWVKLEVBQ3BCNkIsS0FBS2IsV0FBYWdCLE1BQU1DLEtBQUtKLEtBQUt6QixhQUFhOEIsaUJBQWlCTCxLQUFLQyxpQkFDckVELEtBQUtYLGVBQWlCVyxLQUFLekIsYUFBYW5CLGNBQWM0QyxLQUFLRSxzQkFDN0QsSSx5cUJDVG1CSSxFQUFPLFdBQzFCLGFBQWlDQyxHQUFtQixJQUF0Q0MsRUFBSyxFQUFMQSxNQUFPQyxFQUFRLEVBQVJBLFUsNEZBQVEsU0FDM0JULEtBQUtVLGNBQWdCRixFQUNyQlIsS0FBS1csVUFBWUYsRUFDakJULEtBQUtZLFdBQWF6RCxTQUFTQyxjQUFjbUQsRUFDM0MsQyxRQWNDLE8sRUFkQSxHLEVBQUEsMEJBRUQsV0FBYyxXQUNaUCxLQUFLVSxjQUFjdEIsU0FBUSxTQUFDeUIsR0FDMUIsRUFBS0YsVUFBVUUsRUFDakIsR0FDRixHQUFDLDJCQUVELFNBQWNDLEdBQ1pkLEtBQUtZLFdBQVdHLE9BQU9ELEVBQ3pCLEdBQUMsNEJBRUQsU0FBZUEsR0FDYmQsS0FBS1ksV0FBV0ksUUFBUUYsRUFDMUIsTSxvRUFBQyxFQW5CeUIsRyx3ckJDQVBHLEVBQUksV0FDdkIsV0FBWUMsRUFBVUMsRUFBa0JDLEVBQXFCQyxHQUFxQixJLE1BQUEsUSw0RkFBQSxTLEVBQUEsSyxFQW1DaEUsV0FDaEIsRUFBS0MsTUFBTXpDLFNBQ1gsRUFBS3lDLE1BQVEsSUFDZixHLE1BdENrRixzQix3RkFDaEZ0QixLQUFLdUIsTUFBUUwsRUFBU00sS0FDdEJ4QixLQUFLeUIsUUFBVVAsRUFBU1EsT0FDeEIxQixLQUFLMkIsU0FBVzNCLEtBQUt1QixNQUFNSyxNQUFNQyxJQUNqQzdCLEtBQUs4QixVQUFZWixFQUFTYSxxQkFDMUIvQixLQUFLZ0Msa0JBQW9CYixFQUN6Qm5CLEtBQUtpQyxxQkFBdUJiLEVBQzVCcEIsS0FBS2tDLHFCQUF1QmIsQ0FDOUIsQyxRQXFFQyxPLEVBckVBLEcsRUFBQSwyQkFFRCxXQUNFLE9BQU9sRSxTQUNKQyxjQUFjNEMsS0FBS2dDLG1CQUNuQkcsUUFBUS9FLGNBQWMsbUJBQ3RCZ0YsV0FBVSxFQUNmLEdBQUMscUJBRUQsV0FBVSxXQUdSLE9BRnNCcEMsS0FBS3VCLE1BQU1jLE1BQU1DLE1BQUssU0FBQUMsR0FBSSxPQUFJQSxFQUFLVixNQUFRLEVBQUtKLE9BQU8sR0FHL0UsR0FBQyx3QkFFRCxTQUFXZSxHQUNUeEMsS0FBS3VCLE1BQU1jLE1BQVFHLEVBQ0t4QyxLQUFLc0IsTUFBTWxFLGNBQWMsMkJBQ2pDd0IsWUFBY29CLEtBQUt1QixNQUFNYyxNQUFNSSxPQUU1Q3pDLEtBQUswQyxVQUNOMUMsS0FBSzJDLG1CQUFtQmxFLFVBQVVDLElBQUksZ0NBRXRDc0IsS0FBSzJDLG1CQUFtQmxFLFVBQVVJLE9BQU8sK0JBRTdDLEdBQUMsMEJBT0QsV0FnQkUsT0FmQW1CLEtBQUtzQixNQUFRdEIsS0FBSzRDLGVBQ2xCNUMsS0FBSzZDLGNBQWdCN0MsS0FBS3NCLE1BQU1sRSxjQUFjLHlCQUM5QzRDLEtBQUs4QyxZQUFjOUMsS0FBS3NCLE1BQU1sRSxjQUFjLGtCQUM1QzRDLEtBQUsrQyxxQkFFTC9DLEtBQUs4QyxZQUFZRSxJQUFNaEQsS0FBS3VCLE1BQU0wQixLQUNsQ2pELEtBQUs4QyxZQUFZSSxJQUFNbEQsS0FBS3VCLE1BQU00QixLQUNsQ25ELEtBQUtzQixNQUFNbEUsY0FBYyxzQkFBc0J3QixZQUFjb0IsS0FBS3VCLE1BQU00QixLQUV4RW5ELEtBQUtvRCxXQUFXcEQsS0FBS3VCLE1BQU1jLE9BRXhCckMsS0FBSzJCLFdBQWEzQixLQUFLeUIsVUFDeEJ6QixLQUFLNkMsY0FBY1EsTUFBTUMsUUFBVSxRQUc5QnRELEtBQUtzQixLQUNkLEdBQUMsZ0NBRUQsV0FBcUIsV0FDbkJ0QixLQUFLMkMsbUJBQXFCM0MsS0FBS3NCLE1BQU1sRSxjQUFjLDBCQUVuRDRDLEtBQUsyQyxtQkFBbUI3QyxpQkFBaUIsU0FBUyxXQUNoRCxFQUFLb0MscUJBQXFCLEVBQUtYLE1BQU1NLElBQ3ZDLElBQ0E3QixLQUFLNkMsY0FBYy9DLGlCQUFpQixTQUFTLFdBQzNDLEVBQUttQyxxQkFBcUIsRUFBS1YsTUFBTU0sSUFDdkMsSUFFQTdCLEtBQUtzQixNQUFNbEUsY0FBYyx5QkFBeUIwQyxpQkFBaUIsU0FBUyxXQUMxRSxFQUFLeUQsbUJBQ1AsR0FFRixHQUFDLCtCQUVELFdBQ0V2RCxLQUFLOEIsVUFBVTlCLEtBQUt1QixNQUN0QixNLG9FQUFDLEVBOUVzQixHLHF6QkNBSmlDLEVBQUssV0FDeEIsV0FBWUMsR0FBZSxZLDRGQUFBLG1DQUtULFNBQUNDLEdBQ0QsV0FBWkEsRUFBSUMsS0FDTixFQUFLQyxPQUVULElBQUMseUJBR2dCLFdBQ2Z6RyxTQUFTMkMsaUJBQWlCLFVBQVcsRUFBSytELGdCQUM1QyxJQUFDLDRCQUdtQixXQUNsQjFHLFNBQVMyRyxvQkFBb0IsVUFBVyxFQUFLRCxnQkFDL0MsSUFsQkU3RCxLQUFLK0QsZUFBaUI1RyxTQUFTQyxjQUFjcUcsRUFDL0MsQyxRQWtEQyxPLEVBaERELEcsRUFBQSw4Q0FrQkEsV0FBa0MsV0FDaEN6RCxLQUFLK0QsZUFBZWpFLGlCQUFpQixhQUFhLFNBQUM0RCxHQUM3Q0EsRUFBSU0sU0FBV04sRUFBSU8sZUFDckIsRUFBS0wsT0FFVCxHQUNGLEdBQUMsa0RBR0QsV0FBdUMsV0FDckM1RCxLQUFLK0QsZUFBZWpFLGlCQUFpQixTQUFTLFNBQUM0RCxHQUN6Q0EsRUFBSU0sT0FBT3ZGLFVBQVV5RixTQUFTLGNBQ2hDLEVBQUtOLE9BRVQsR0FDRixHQUFDLCtCQUVELFdBQ0U1RCxLQUFLbUUsdUNBQ0xuRSxLQUFLb0UsaUNBQ1AsR0FBQyxrQkFFRCxXQUNFcEUsS0FBSytELGVBQWV0RixVQUFVQyxJQUFJLGdCQUNsQ3NCLEtBQUtxRSxnQkFDUCxHQUFDLG1CQUVELFdBQ0VyRSxLQUFLK0QsZUFBZXRGLFVBQVVJLE9BQU8sZ0JBQ3JDbUIsS0FBS3NFLG1CQUNQLE0sb0VBQUMsRUFyRHVCLEcsOGhEQ0FLLElBRVZDLEVBQWMsYSxxUkFBQSxVLFFBQUEsRyxFQUFBLEUsK1lBQ2pDLFdBQVlkLEdBQWUsTUFHcUQsTyw0RkFIckQsVUFDekIsY0FBTUEsSUFDRGUsV0FBYSxFQUFLVCxlQUFlM0csY0FBYyx3QkFDcEQsRUFBS3FILFdBQWEsRUFBS1YsZUFBZTNHLGNBQWMsMEJBQTBCLENBRWhGLENBUUMsTyxFQVJBLEcsRUFBQSxtQkFHRCxZQUFtQixJQUFiK0YsRUFBSSxFQUFKQSxLQUFNRixFQUFJLEVBQUpBLEtBQ1YseUNBQ0FqRCxLQUFLd0UsV0FBV3hCLElBQU1DLEVBQ3RCakQsS0FBS3dFLFdBQVd0QixJQUFNQyxFQUN0Qm5ELEtBQUt5RSxXQUFXN0YsWUFBY3VFLENBQ2hDLE0sb0VBQUMsRUFkZ0MsQ0FBU0ssRyw4aERDRmIsSUFFVmtCLEVBQWEsYSxxUkFBQSxVLFFBQUEsRyxFQUFBLEUsK1lBQ2hDLFdBQVlqQixFQUFla0IsR0FBa0IsTUFLYSxPLDRGQUxiLFVBQzNDLGNBQU1sQixJQUNEbUIsa0JBQW9CRCxFQUN6QixFQUFLeEYsV0FBYWdCLE1BQU1DLEtBQUssRUFBSzJELGVBQWUxRCxpQkFBaUIsdUJBQ2xFLEVBQUt3RSxjQUFnQixFQUFLZCxlQUFlM0csY0FBYyxzQkFDdkQsRUFBSzBILGtCQUFvQixFQUFLRCxjQUFjakcsWUFBWSxDQUMxRCxDQXdDQyxPLEVBeENBLEcsRUFBQSw4QkFFRCxXQUFrQixXQU9oQixPQU5Bb0IsS0FBSytFLFlBQWMsQ0FBQyxFQUVwQi9FLEtBQUtiLFdBQVdDLFNBQVEsU0FBQTRGLEdBQ3RCLEVBQUtELFlBQVlDLEVBQU03QixNQUFRNkIsRUFBTUMsS0FDdkMsSUFFT2pGLEtBQUsrRSxXQUNkLEdBQUMsb0NBRUQsU0FBdUJHLEdBQ3JCbEYsS0FBSzRFLGtCQUFvQk0sQ0FDM0IsR0FBQywyQkFFRCxTQUFjQyxHQUNUQSxFQUMwQixjQUEzQm5GLEtBQUs4RSxrQkFDSDlFLEtBQUs2RSxjQUFjakcsWUFBYyxnQkFDakNvQixLQUFLNkUsY0FBY2pHLFlBQWMsY0FFbkNvQixLQUFLNkUsY0FBY2pHLFlBQWNvQixLQUFLOEUsaUJBRTFDLEdBQUMsK0JBRUQsV0FBb0IsV0FDbEIsc0RBRUE5RSxLQUFLb0YsTUFBUXBGLEtBQUsrRCxlQUFlM0csY0FBYyxnQkFFL0M0QyxLQUFLb0YsTUFBTXRGLGlCQUFpQixVQUFVLFNBQUM0RCxHQUNyQ0EsRUFBSTJCLGlCQUNKLEVBQUtULGtCQUFrQixFQUFLVSxrQkFDOUIsR0FDRixHQUFDLG1CQUVELFdBQ0UsMENBQ0F0RixLQUFLb0YsTUFBTUcsT0FDYixNLG9FQUFDLEVBL0MrQixDQUFTL0IsRyx5cUJDRnRCZ0MsRUFBUSxXQUMzQixjQUF5RCxJQUE1Q0MsRUFBWSxFQUFaQSxhQUFjQyxFQUFXLEVBQVhBLFlBQWFDLEVBQWMsRUFBZEEsZ0IsNEZBQWMsU0FDcEQzRixLQUFLNEYsV0FBYXpJLFNBQVNDLGNBQWNxSSxHQUN6Q3pGLEtBQUs2RixVQUFZMUksU0FBU0MsY0FBY3NJLEdBQ3hDMUYsS0FBSzhGLFFBQVUzSSxTQUFTQyxjQUFjdUksRUFDeEMsQyxRQW1CQyxPLEVBbkJBLEcsRUFBQSwwQkFFRCxXQUdFLE9BRkEzRixLQUFLK0YsTUFBUS9GLEtBQUs0RixXQUFXaEgsWUFDN0JvQixLQUFLZ0csS0FBT2hHLEtBQUs2RixVQUFVakgsWUFDcEIsQ0FBQ3VFLEtBQU1uRCxLQUFLK0YsTUFBT0UsSUFBS2pHLEtBQUtnRyxLQUN0QyxHQUFDLHlCQUdELFNBQVlFLEdBQ1BBLEVBQUsvQyxPQUNObkQsS0FBSzRGLFdBQVdoSCxZQUFjc0gsRUFBSy9DLE1BRWxDK0MsRUFBS0MsUUFDTm5HLEtBQUs2RixVQUFVakgsWUFBY3NILEVBQUtDLE9BRWpDRCxFQUFLRSxTQUNOcEcsS0FBSzhGLFFBQVE5QyxJQUFNa0QsRUFBS0UsT0FFNUIsTSxvRUFBQyxFQXhCMEIsRyx5cUJDQVJDLEVBQUcsV0FDdEIsY0FBZ0MsSUFBbkJDLEVBQU8sRUFBUEEsUUFBU0MsRUFBTyxFQUFQQSxTLDRGQUFPLFNBQzNCdkcsS0FBS3dHLFNBQVdGLEVBQ2hCdEcsS0FBS3lHLFNBQVdGLENBQ2xCLEMsUUFvSEMsTyxFQXBIQSxHLEVBQUEsNkJBRUQsV0FDRSxPQUFPRyxNQUFNLEdBQUQsT0FBSTFHLEtBQUt3RyxTQUFRLGFBQWEsQ0FDMUNHLE9BQVEsTUFDUkosUUFBU3ZHLEtBQUt5RyxXQUViRyxNQUFLLFNBQUNDLEdBQ0wsT0FBT0EsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBTyxVQUFELE9BQVdKLEVBQUlLLE9BQU0sWUFBSUwsRUFBSU0sWUFDMUUsSUFDQ0MsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBQ0YsR0FBQyw2QkFHRCxXQUNFLE9BQU9YLE1BQU0sR0FBRCxPQUFJMUcsS0FBS3dHLFNBQVEsVUFBVSxDQUNyQ0csT0FBUSxNQUNSSixRQUFTdkcsS0FBS3lHLFdBRWJHLE1BQUssU0FBQ0MsR0FDTCxPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPLFVBQUQsT0FBV0osRUFBSUssT0FBTSxZQUFJTCxFQUFJTSxZQUMxRSxJQUNDQyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDSixHQUFDLHlCQUVELFlBQXlCLElBQVpsRSxFQUFJLEVBQUpBLEtBQU04QyxFQUFHLEVBQUhBLElBQ2pCLE9BQU9TLE1BQU0sR0FBRCxPQUFJMUcsS0FBS3dHLFNBQVEsYUFBYSxDQUN4Q0csT0FBUSxRQUNSSixRQUFTdkcsS0FBS3lHLFNBQ2RlLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJ2RSxLQUFBQSxFQUNBZ0QsTUFBT0YsTUFHUlcsTUFBSyxTQUFDQyxHQUNMLE9BQU9BLEVBQUlDLEdBQUtELEVBQUlFLE9BQVNDLFFBQVFDLE9BQU8sVUFBRCxPQUFXSixFQUFJSyxPQUFNLFlBQUlMLEVBQUlNLFlBQzFFLElBQ0NDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxHQUNKLEdBQUMsd0JBRUQsWUFBeUIsSUFBYmxFLEVBQUksRUFBSkEsS0FBTUYsRUFBSSxFQUFKQSxLQUNoQixPQUFPeUQsTUFBTSxHQUFELE9BQUkxRyxLQUFLd0csU0FBUSxVQUFVLENBQ3JDRyxPQUFRLE9BQ1JKLFFBQVN2RyxLQUFLeUcsU0FDZGUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnZFLEtBQUFBLEVBQ0FGLEtBQUFBLE1BR0QyRCxNQUFLLFNBQUNDLEdBQ0wsT0FBT0EsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBTyxVQUFELE9BQVdKLEVBQUlLLE9BQU0sWUFBSUwsRUFBSU0sWUFDMUUsSUFDQ0MsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBQ0osR0FBQyw4QkFFRCxTQUFpQk0sR0FDZixPQUFPakIsTUFBTSxHQUFELE9BQUkxRyxLQUFLd0csU0FBUSxrQkFBVW1CLEdBQVUsQ0FDL0NoQixPQUFRLFNBQ1JKLFFBQVN2RyxLQUFLeUcsV0FFYkcsTUFBSyxTQUFDQyxHQUNMLE9BQU9BLEVBQUlDLEdBQUtELEVBQUlFLE9BQVNDLFFBQVFDLE9BQU8sVUFBRCxPQUFXSixFQUFJSyxPQUFNLFlBQUlMLEVBQUlNLFlBQzFFLElBQ0NDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxHQUNKLEdBQUMscUJBRUQsU0FBUU0sR0FDTixPQUFPakIsTUFBTSxHQUFELE9BQUkxRyxLQUFLd0csU0FBUSxrQkFBVW1CLEVBQU0sVUFBVSxDQUNyRGhCLE9BQVEsTUFDUkosUUFBU3ZHLEtBQUt5RyxXQUViRyxNQUFLLFNBQUNDLEdBQ0wsT0FBT0EsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBTyxVQUFELE9BQVdKLEVBQUlLLE9BQU0sWUFBSUwsRUFBSU0sWUFDMUUsSUFDQ0MsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNkLEdBQ0osR0FBQyx3QkFFRCxTQUFXTSxHQUNULE9BQU9qQixNQUFNLEdBQUQsT0FBSTFHLEtBQUt3RyxTQUFRLGtCQUFVbUIsRUFBTSxVQUFVLENBQ3JEaEIsT0FBUSxTQUNSSixRQUFTdkcsS0FBS3lHLFdBRWJHLE1BQUssU0FBQ0MsR0FDTCxPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPLFVBQUQsT0FBV0osRUFBSUssT0FBTSxZQUFJTCxFQUFJTSxZQUMxRSxJQUNDQyxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2QsR0FDSixHQUFDLDBCQUVELFlBQXFCLElBQVBwRSxFQUFJLEVBQUpBLEtBQ1osT0FBT3lELE1BQU0sR0FBRCxPQUFJMUcsS0FBS3dHLFNBQVEsb0JBQW9CLENBQ2pERyxPQUFRLFFBQ1JKLFFBQVN2RyxLQUFLeUcsU0FDZGUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnRCLE9BQVFuRCxNQUdUMkQsTUFBSyxTQUFDQyxHQUNMLE9BQU9BLEVBQUlDLEdBQUtELEVBQUlFLE9BQVNDLFFBQVFDLE9BQU8sVUFBRCxPQUFXSixFQUFJSyxPQUFNLFlBQUlMLEVBQUlNLFlBQzFFLElBQ0NDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDZCxHQUNGLE0sb0VBQUMsRUF4SHFCLEdDMkJwQjNGLE9BQVNrRyxFQUVQQyxFQUFvQixJQUFJM0osRUFBY04sRUFBa0JGLEdBQ3hEb0ssRUFBdUIsSUFBSTVKLEVBQWNOLEVBQWtCTCxHQUMzRHdLLEVBQXNCLElBQUk3SixFQUFjTixFQUFrQk4sR0FFMUQwSyxFQUFNLElBQUkzQixFQUFJLENBQ2xCQyxRQUFTLDhDQUNUQyxRQUFTLENBQ1AwQixjQUFlLHVDQUNmLGVBQWdCLHNCQUlwQkQsRUFBSUUsaUJBQ0R0QixNQUFLLFNBQUN1QixHQUNMQyxHQUFTQyxZQUFZRixHQUNyQnpHLEVBQVN5RyxFQUFZdEcsR0FDdkIsSUFFRm1HLEVBQUlNLGtCQUNEMUIsTUFBSyxTQUFDMkIsR0FDTEEsRUFBV25KLFNBQVEsU0FBQW9KLEdBQ2pCLElBQU1DLEVBQU9DLEdBQ1gsQ0FDRWxILEtBQU1nSCxFQUNOOUcsT0FBQUEsRUFDQUsscUJBQXNCNEcsSUFFeEIsYUFDRkMsR0FBZ0JDLGNBQWNKLEVBQ2hDLEdBQ0YsSUFHQSxJQUFNRSxHQUFrQixTQUFDRyxHQUN2QkMsR0FBU0MsS0FBS0YsRUFDaEIsRUFFSUosR0FBYSxTQUFDTyxFQUFVQyxHQUM1QixJQUFNVCxFQUFPLElBQUl4SCxFQUNmZ0ksRUFDQUMsR0FDQSxTQUFDdkIsR0FDQ3dCLEdBQWFILE9BQ2JHLEdBQWFDLHdCQUF1QixXQUNsQ3BCLEVBQUlxQixpQkFBaUIxQixHQUNsQmYsTUFBSyxXQUNKNkIsRUFBS2Esa0JBQ0xILEdBQWF2RixPQUNmLEdBQ0osR0FDRixJQUNBLFNBQUMrRCxHQUNJYyxFQUFLL0YsVUFDTnNGLEVBQUl1QixXQUFXNUIsR0FDZGYsTUFBSyxTQUFDQyxHQUNMNEIsRUFBS3JGLFdBQVd5RCxFQUFJeEUsTUFDdEIsSUFFQTJGLEVBQUl3QixRQUFRN0IsR0FDWGYsTUFBSyxTQUFDQyxHQUNMNEIsRUFBS3JGLFdBQVd5RCxFQUFJeEUsTUFDdEIsR0FFSixJQUVGLE9BQU9vRyxFQUFLZ0IsY0FDZCxFQUVNYixHQUFrQixJQUFJdEksRUFBUSxDQUNsQ0UsTUFBTyxHQUNQQyxTQUFVLFNBQUMrSCxHQUNULElBQU1DLEVBQU9DLEdBQ1gsQ0FDRWxILEtBQU1nSCxFQUNOekcscUJBQXNCNEcsSUFFeEIsYUFDRkMsR0FBZ0JDLGNBQWNKLEVBQ2hDLEdUL0Y0QixtQlNvR3hCTSxHQUFXLElBQUl4RSxFQUFlLGVBRTlCNEUsR0FBZSxJQUFJekUsRUFBYyx1QkFFakNnRixHQUFjLElBQUloRixFQUN0QixnQkFFQSxTQUEwQmlGLEdBQ3hCRCxHQUFZRSxlQUFjLEdBQzFCNUIsRUFBSTZCLGFBQWFGLEdBQ2QvQyxNQUFLLFNBQUNSLEdBQ0xnQyxHQUFTQyxZQUFZakMsR0FDckJzRCxHQUFZOUYsT0FDZCxJQUNDa0csU0FBUSxXQUNQSixHQUFZRSxlQUFjLEVBQzVCLEdBQ0osSUFHSUcsR0FBWSxJQUFJckYsRVRuSVcsY1NzSS9CLFNBQTBCaUYsR0FDeEJJLEdBQVVILGVBQWMsR0FDeEI1QixFQUFJZ0MsV0FBV0wsR0FDWi9DLE1BQUssU0FBQ3BGLEdBQ0wsSUFBTWlILEVBQU9DLEdBQ1gsQ0FDRWxILEtBQUFBLEVBQ0FFLE9BQUFBLEVBQ0FLLHFCQUFzQjRHLElBRXhCLGFBQ0ZDLEdBQWdCcUIsZUFBZXhCLEdBQy9Cc0IsR0FBVW5HLE9BQ1osSUFDQ2tHLFNBQVEsV0FDUEMsR0FBVUgsZUFBYyxFQUMxQixHQUNKLElBR0lNLEdBQVksSUFBSXhGLEVUekpjLGlCUzRKbEMsU0FBMEJpRixHQUN4Qk8sR0FBVU4sZUFBYyxHQUN4QjVCLEVBQUltQyxZQUFZUixHQUNiL0MsTUFBSyxTQUFDdUIsR0FDTEMsR0FBU0MsWUFBWUYsR0FDckIrQixHQUFVdEcsT0FDWixJQUNDa0csU0FBUSxXQUNQSSxHQUFVTixlQUFjLEVBQzFCLEdBQ0osSUFHSXhCLEdBQVcsSUFBSTVDLEVBQVMsQ0FDNUJDLGFUbktpQyxpQlNvS2pDQyxZVG5LZ0MsZ0JTb0toQ0MsZVRuS21DLHFCU21NckN0SSxFQUFvQnlDLGlCQUFpQixTQWJmLFdBQ3BCK0gsRUFBa0J1QyxjQUNsQnZDLEVBQWtCbEksc0JBQ2xCb0ssR0FBVWYsTUFDWixJQVlBOUwsRUFBdUI0QyxpQkFBaUIsU0EvQmYsV0FRSyxJQUM1QixFQUFRcUQsRUFBTThDLEVBUmQ2QixFQUFxQnNDLGNBQ3JCdEMsRUFBcUJuSSxzQkFPckIsRUFBc0J5SSxHQUFTaUMsY0FBdkJsSCxFQUFJLEVBQUpBLEtBQU04QyxFQUFHLEVBQUhBLElBQ2R6SSxFQUFVeUgsTUFBUTlCLEVBQ2xCMUYsRUFBU3dILE1BQVFnQixFQVBqQmlFLEdBQVVsQixNQUNaLElBNkJBckwsRUFBc0JtQyxpQkFBaUIsU0FiZixXQUN0QmlJLEVBQW9CcUMsY0FDcEJyQyxFQUFvQnBJLHNCQUNwQitKLEdBQVlWLE1BQ2QsSUFXQUQsR0FBU3VCLG9CQUNUSixHQUFVSSxvQkFDVlAsR0FBVU8sb0JBQ1ZuQixHQUFhbUIsb0JBQ2JaLEdBQVlZLG9CQUNaekMsRUFBa0IwQyxtQkFDbEJ6QyxFQUFxQnlDLG1CQUNyQnhDLEVBQW9Cd0MsbUJBQ3BCM0IsR0FBZ0I0QixhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcHJvZmlsZVBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBDYXJkU2VsZWN0b3IgPSAnI3BvcHVwQ2FyZCc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVTZWxlY3RvciA9ICcjcG9wdXBQcm9maWxlJztcclxuZXhwb3J0IGNvbnN0IGNhcmRQb3B1cE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpXHJcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEZvcm1BdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1Qcm9maWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEZvcm1Qcm9maWxlJyk7ICBcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGZvcm1Qcm9maWxlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBmb3JtUHJvZmlsZUVsZW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0LWpvYicpO1xyXG5leHBvcnQgY29uc3QgZm9ybUNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwRm9ybUNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX25hbWUnO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYlNlbGVjdG9yID0gJy5wcm9maWxlX19qb2InO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gJy5wcm9maWxlX19hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSAnLmVsZW1lbnRzX19saXN0JztcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItYnV0dG9uJylcclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLWlucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0LWJ0bicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnRuX2luYWN0aXZlJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yJyxcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGZvcm1JbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtmb3JtSW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBmb3JtSW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH07XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQu9Cw0YHRgdCwINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGZvcm1JbnB1dCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7Zm9ybUlucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgZm9ybUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoYCR7dGhpcy5faW5wdXRFcnJvckNsYXNzfWApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfTtcclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRj1xyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUlucHV0KSA9PiB7XHJcbiAgICBpZiAoIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICAvLyDQntGH0LjRidCw0LXQvCDQvtGI0LjQsdC60LhcclxuICAgY2xlYXJFcnJvcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGZvcm1JbnB1dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCU0LXQu9Cw0LXQvCDQutC90L7Qv9C60Lgg0L3QtdCw0LrRgtC40LLQvdGL0LzQuCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCBwb3B1cCBcclxuICBkaXNhYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgLy8g0JLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCBpc1ZhbGlkINC90LAg0LrQsNC20LTRi9C5INCy0LLQvtC0INGB0LjQvNCy0L7Qu9CwXHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX3NldFZhbGlkYXRpb25FdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGZvcm1JbnB1dCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINCj0L/RgNCw0LLQu9C10L3QuNC1INGB0L7RgdGC0L7Rj9C90LjQtdC8INC60L3QvtC/0LrQuFxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQodC+0LHQuNGA0LDQtdC8INCy0YHQtSDRgdC70YPRiNCw0YLQtdC70LhcclxuICBfc2V0VmFsaWRhdGlvbkV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XHJcbiAgICAgIGZvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybUlucHV0KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW1BcHBFbmQoZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW1QcmVwRW5kKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlRGVsZXRlQ29uZmlybSwgaGFuZGxlQ2FyZExpa2VDbGljaykge1xyXG4gICAgdGhpcy5fZGF0YSA9IHNldHRpbmdzLmRhdGE7XHJcbiAgICB0aGlzLl91c2VySWQgPSBzZXR0aW5ncy51c2VySWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gdGhpcy5fZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9vcGVuQ2FyZCA9IHNldHRpbmdzLmhhbmRsZU9wZW5JbWFnZVBvcHVwO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDb25maXJtID0gaGFuZGxlRGVsZXRlQ29uZmlybTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlQ2xpY2sgPSBoYW5kbGVDYXJkTGlrZUNsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbScpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgY29uc3QgaXNMaWtlZEJ5VXNlciA9IHRoaXMuX2RhdGEubGlrZXMuZmluZCh1c2VyID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpXHJcblxyXG4gICAgcmV0dXJuIGlzTGlrZWRCeVVzZXJcclxuICB9XHJcblxyXG4gIGNvdW50TGlrZXMoYWN0dWFsTGlrZXMpIHtcclxuICAgIHRoaXMuX2RhdGEubGlrZXMgPSBhY3R1YWxMaWtlc1xyXG4gICAgY29uc3QgY2FyZExpa2VDb3VudGVyID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UtY291bnRlcicpXHJcbiAgICBjYXJkTGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLmxpa2VzLmxlbmd0aFxyXG5cclxuICAgIGlmKHRoaXMuaXNMaWtlZCgpKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmRMb2NhbCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2RlbGV0ZS1idG4nKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWcgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faW1nJyk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRJbWcuc3JjID0gdGhpcy5fZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fZWxlbWVudEltZy5hbHQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FwdGlvbicpLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG5cclxuICAgIHRoaXMuY291bnRMaWtlcyh0aGlzLl9kYXRhLmxpa2VzKTtcclxuXHJcbiAgICBpZih0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpe1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UtYnV0dG9uJyk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlQ2xpY2sodGhpcy5fZGF0YS5faWQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNvbmZpcm0odGhpcy5fZGF0YS5faWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2ltZy1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbWFnZUNsaWNrKCkge1xyXG4gICAgdGhpcy5fb3BlbkNhcmQodGhpcy5fZGF0YSk7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8gcG9wdXAg0L3QsCBlc2NcclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0YPRgdGC0LDQvdC+0LLQutC4INGB0LvRg9GI0LDRgtC10LvRjyDQt9Cw0LrRgNGL0YLQuNGPIHBvcHVwINC90LAgZXNjINC90LAg0LLQtdGB0Ywg0LTQvtC60YPQvNC10L3RglxyXG4gIF9zZXRLZXlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vINCh0L3Rj9GC0LjQtSDRgdC70YPRiNCw0YLQtdC70Y8g0LfQsNC60YDRi9GC0LjRjyBwb3B1cCDQvdCwIGVzYyDQvdCwINCy0LXRgdGMINC00L7QutGD0LzQtdC90YJcclxuICBfcmVtb3ZlS2V5SGFuZGxlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyDQl9Cw0LrRgNGL0YLQuNC1IHBvcHVwINC90LAg0L7QstC10YDQu9C10LVcclxuICBfYmluZFBvcHVwc092ZXJsYXlDbGlja0hhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINCX0LDQutGA0YvRgtC40LUgcG9wdXAg0L3QsCDQutGA0LXRgdGC0LjQutC1XHJcbiAgX2JpbmRQb3B1cHNDbG9zZUJ1dHRvbnNDbGlja0hhbmRsZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1idG4nKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfTtcclxuICAgIH0pXHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9iaW5kUG9wdXBzQ2xvc2VCdXR0b25zQ2xpY2tIYW5kbGVycygpO1xyXG4gICAgdGhpcy5fYmluZFBvcHVwc092ZXJsYXlDbGlja0hhbmRsZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICB0aGlzLl9zZXRLZXlIYW5kbGVyKCk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgdGhpcy5fcmVtb3ZlS2V5SGFuZGxlcigpO1xyXG4gIH07XHJcbn07IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlTGluayA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19maWd1cmUtaW1hZ2UnKTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19maWd1cmUtY2FwdGlvbicpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBvcGVuKHtuYW1lLCBsaW5rfSkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faW1hZ2VMaW5rLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWFnZUxpbmsuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfTtcclxufTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybS1pbnB1dCcpKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnRuJyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VIYW5kbGVGb3JtU3VibWl0KG5ld0hhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBuZXdIYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID09PSAn0KHQvtGF0YDQsNC90LjRgtGMJyA/XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyA6XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7Qt9C00LDQvdC40LUuLi4nXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcblxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3J9KSB7XHJcbiAgICB0aGlzLl9uYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9qb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHRoaXMuX25hbWUgPSB0aGlzLl9uYW1lSW5wdXQudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9qb2IgPSB0aGlzLl9qb2JJbnB1dC50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB7bmFtZTogdGhpcy5fbmFtZSwgam9iOiB0aGlzLl9qb2J9O1xyXG4gIH1cclxuICAgIFxyXG5cclxuICBzZXRVc2VySW5mbyhpbmZvKSB7XHJcbiAgICBpZihpbmZvLm5hbWUpIHtcclxuICAgICAgdGhpcy5fbmFtZUlucHV0LnRleHRDb250ZW50ID0gaW5mby5uYW1lO1xyXG4gICAgfVxyXG4gICAgaWYoaW5mby5hYm91dCkge1xyXG4gICAgICB0aGlzLl9qb2JJbnB1dC50ZXh0Q29udGVudCA9IGluZm8uYWJvdXQ7XHJcbiAgICB9IFxyXG4gICAgaWYoaW5mby5hdmF0YXIpe1xyXG4gICAgICB0aGlzLl9hdmF0YXIuc3JjID0gaW5mby5hdmF0YXI7XHJcbiAgICB9XHJcbiAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0UHJvZmlsZUluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgfSlcclxuICB9O1xyXG4gIFxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9O1xyXG5cclxuICBlZGl0UHJvZmlsZSh7bmFtZSwgam9ifSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGpvYlxyXG4gICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoe25hbWUsIGxpbmt9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmtcclxuICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkT25saW5lKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXIoe2xpbmt9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBhdmF0YXI6IGxpbmtcclxuICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgfSlcclxuICB9O1xyXG4gIFxyXG5cclxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICBwcm9maWxlUG9wdXBPcGVuQnV0dG9uLFxyXG4gIHBvcHVwUHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwQ2FyZFNlbGVjdG9yLFxyXG4gIGNhcmRQb3B1cE9wZW5CdXR0b24sXHJcbiAgZm9ybUF2YXRhckVsZW1lbnQsXHJcbiAgZm9ybVByb2ZpbGVFbGVtZW50LFxyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICBmb3JtQ2FyZEVsZW1lbnQsXHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICBwcm9maWxlSm9iU2VsZWN0b3IsXHJcbiAgcHJvZmlsZUF2YXRhclNlbGVjdG9yLFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgYXZhdGFyUG9wdXBPcGVuQnV0dG9uLFxyXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuXHJcbmxldCB1c2VySWQgPSB1bmRlZmluZWQ7XHJcblxyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1DYXJkRWxlbWVudCk7XHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybVByb2ZpbGVFbGVtZW50KTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbG9kYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1BdmF0YXJFbGVtZW50KVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNTUnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICczNmI4Njk0Ny1lM2UzLTQwYzktOWY1OS01OTAwN2NiZTg4ZTcnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufSk7XHJcblxyXG5hcGkuZ2V0UHJvZmlsZUluZm8oKVxyXG4gIC50aGVuKChwcm9maWxlSW5mbykgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocHJvZmlsZUluZm8pXHJcbiAgICB1c2VySWQgPSBwcm9maWxlSW5mby5faWRcclxuICB9KTtcclxuXHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChjYXJkc0FycmF5KSA9PiB7XHJcbiAgICBjYXJkc0FycmF5LmZvckVhY2goY2FyZEl0ZW0gPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChcclxuICAgICAgICB7XHJcbiAgICAgICAgICBkYXRhOiBjYXJkSXRlbSxcclxuICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgIGhhbmRsZU9wZW5JbWFnZVBvcHVwOiBoYW5kbGVDYXJkQ2xpY2tcclxuICAgICAgICB9LFxyXG4gICAgICAgICcudGVtcGxhdGUnKTtcclxuICAgICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW1BcHBFbmQoY2FyZClcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGltYWdlRGF0YSkgPT4ge1xyXG4gICAgcG9wdXBJbWcub3BlbihpbWFnZURhdGEpO1xyXG4gIH1cclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZERhdGEsIHRlbXBsYXRlKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICB0ZW1wbGF0ZSxcclxuICAgIChjYXJkSWQpID0+IHtcclxuICAgICAgcG9wdXBDb25maXJtLm9wZW4oKVxyXG4gICAgICBwb3B1cENvbmZpcm0uY2hhbmdlSGFuZGxlRm9ybVN1Ym1pdCgoKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmRPbmxpbmUoY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmRMb2NhbCgpXHJcbiAgICAgICAgICAgIHBvcHVwQ29uZmlybS5jbG9zZSgpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIChjYXJkSWQpID0+IHtcclxuICAgICAgaWYoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZC5jb3VudExpa2VzKHJlcy5saWtlcylcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmNvdW50TGlrZXMocmVzLmxpa2VzKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBbXSxcclxuICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChcclxuICAgICAge1xyXG4gICAgICAgIGRhdGE6IGNhcmRJdGVtLFxyXG4gICAgICAgIGhhbmRsZU9wZW5JbWFnZVBvcHVwOiBoYW5kbGVDYXJkQ2xpY2tcclxuICAgICAgfSxcclxuICAgICAgJy50ZW1wbGF0ZScpO1xyXG4gICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW1BcHBFbmQoY2FyZCk7XHJcbiAgfVxyXG59LFxyXG4gIGNhcmRzQ29udGFpbmVyXHJcbik7XHJcblxyXG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI3BvcHVwSW1hZ2UnKTtcclxuXHJcbmNvbnN0IHBvcHVwQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXBEZWxldGVDb25maXJtJyk7XHJcblxyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcjcG9wdXBBdmF0YXInLFxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGZvcm1EYXRhKSB7XHJcbiAgICBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUpXHJcbiAgICBhcGkuY2hhbmdlQXZhdGFyKGZvcm1EYXRhKVxyXG4gICAgICAudGhlbigoYXZhdGFyKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oYXZhdGFyKTtcclxuICAgICAgICBwb3B1cEF2YXRhci5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKVxyXG4gICAgICB9KVxyXG4gIH1cclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwSXRlbSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHBvcHVwQ2FyZFNlbGVjdG9yLFxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGZvcm1EYXRhKSB7XHJcbiAgICBwb3B1cEl0ZW0ucmVuZGVyTG9hZGluZyh0cnVlKVxyXG4gICAgYXBpLmFkZE5ld0NhcmQoZm9ybURhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgaGFuZGxlT3BlbkltYWdlUG9wdXA6IGhhbmRsZUNhcmRDbGlja1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICcudGVtcGxhdGUnKVxyXG4gICAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtUHJlcEVuZChjYXJkKVxyXG4gICAgICAgIHBvcHVwSXRlbS5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEl0ZW0ucmVuZGVyTG9hZGluZyhmYWxzZSlcclxuICAgICAgfSlcclxuICB9XHJcbik7XHJcblxyXG5jb25zdCBwb3B1cFVzZXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChmb3JtRGF0YSkge1xyXG4gICAgcG9wdXBVc2VyLnJlbmRlckxvYWRpbmcodHJ1ZSlcclxuICAgIGFwaS5lZGl0UHJvZmlsZShmb3JtRGF0YSlcclxuICAgICAgLnRoZW4oKHByb2ZpbGVJbmZvKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocHJvZmlsZUluZm8pXHJcbiAgICAgICAgcG9wdXBVc2VyLmNsb3NlKClcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwVXNlci5yZW5kZXJMb2FkaW5nKGZhbHNlKVxyXG4gICAgICB9KVxyXG4gIH1cclxuKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IHByb2ZpbGVOYW1lU2VsZWN0b3IsXHJcbiAgam9iU2VsZWN0b3I6IHByb2ZpbGVKb2JTZWxlY3RvcixcclxuICBhdmF0YXJTZWxlY3RvcjogcHJvZmlsZUF2YXRhclNlbGVjdG9yXHJcbn0pO1xyXG5cclxuLy8g0J7RgtC60YDRi9GC0LjQtSBwb3B1cFByb2ZpbGUg0YEg0L/QvtC00YHRgtCw0L3QvtCy0LrQvtC5INC30L3QsNGH0LXQvdC40LksINC90LXQsNC60YLQuNCy0L3Ri9C8IHN1Ym1pdCDQuCDQvtGH0LjRgdGC0LrQvtC5INC+0YjQuNCx0L7QulxyXG5jb25zdCBvcGVuUHJvZmlsZVBvcHVwID0gKCkgPT4ge1xyXG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLmNsZWFyRXJyb3JzKCk7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIGZpbGxQcm9maWxlRm9ybUlucHV0cygpO1xyXG4gIHBvcHVwVXNlci5vcGVuKCk7XHJcbn07XHJcblxyXG4vLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDQv9C+0LvQtdC5IHBvcHVwUHJvZmlsZSDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuFxyXG5jb25zdCBmaWxsUHJvZmlsZUZvcm1JbnB1dHMgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IGpvYjtcclxufTtcclxuXHJcbi8vINCe0YLQutGA0YvRgtC40LUgcG9wdXBDYXJkINGBINC/0YPRgdGC0YvQvNC4INC/0L7Qu9GP0LzQuCDQuCDQvdC10LDQutGC0LjQstC90YvQvCBzdWJtaXQsINC+0YfQuNGB0YLQutCwINC/0L7Qu9C10LksINC+0YfQuNGB0YLQutCwINC+0YjQuNCx0L7QulxyXG5jb25zdCBvcGVuUG9wdXBDYXJkID0gKCkgPT4ge1xyXG4gIGNhcmRGb3JtVmFsaWRhdG9yLmNsZWFyRXJyb3JzKCk7XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIHBvcHVwSXRlbS5vcGVuKCk7XHJcbn07XHJcblxyXG5jb25zdCBvcGVuQXZhdGFyUG9wdXAgPSAoKSA9PiB7XHJcbiAgYXZhdGFyRm9ybVZhbG9kYXRvci5jbGVhckVycm9ycygpO1xyXG4gIGF2YXRhckZvcm1WYWxvZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxufVxyXG5cclxuLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8gcG9wdXBBZGRDYXJkXHJcbmNhcmRQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUG9wdXBDYXJkKTtcclxuXHJcbi8vINCh0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPIHBvcHVwUHJvZmlsZVxyXG5wcm9maWxlUG9wdXBPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblByb2ZpbGVQb3B1cCk7XHJcblxyXG4vLyDQodC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyBwb3B1cEF2YXRhclxyXG5hdmF0YXJQb3B1cE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQXZhdGFyUG9wdXApO1xyXG5cclxucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBVc2VyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwSXRlbS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxvZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5kZWZhdWx0Q2FyZExpc3QucmVuZGVySXRlbXMoKTsiXSwibmFtZXMiOlsicHJvZmlsZVBvcHVwT3BlbkJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmRQb3B1cE9wZW5CdXR0b24iLCJmb3JtQXZhdGFyRWxlbWVudCIsImZvcm1Qcm9maWxlRWxlbWVudCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiZm9ybUNhcmRFbGVtZW50IiwiYXZhdGFyUG9wdXBPcGVuQnV0dG9uIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJmb3JtSW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX3NldFZhbGlkYXRpb25FdmVudExpc3RlbmVycyIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIkNhcmQiLCJzZXR0aW5ncyIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVEZWxldGVDb25maXJtIiwiaGFuZGxlQ2FyZExpa2VDbGljayIsIl9jYXJkIiwiX2RhdGEiLCJkYXRhIiwiX3VzZXJJZCIsInVzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfb3BlbkNhcmQiLCJoYW5kbGVPcGVuSW1hZ2VQb3B1cCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZURlbGV0ZUNvbmZpcm0iLCJfaGFuZGxlQ2FyZExpa2VDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJsaWtlcyIsImZpbmQiLCJ1c2VyIiwiYWN0dWFsTGlrZXMiLCJsZW5ndGgiLCJpc0xpa2VkIiwiX2VsZW1lbnRMaWtlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9lbGVtZW50SW1nIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwibGluayIsImFsdCIsIm5hbWUiLCJjb3VudExpa2VzIiwic3R5bGUiLCJkaXNwbGF5IiwiX2hhbmRsZUltYWdlQ2xpY2siLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcG9wdXBTZWxlY3RvciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsIl9iaW5kUG9wdXBzQ2xvc2VCdXR0b25zQ2xpY2tIYW5kbGVycyIsIl9iaW5kUG9wdXBzT3ZlcmxheUNsaWNrSGFuZGxlcnMiLCJfc2V0S2V5SGFuZGxlciIsIl9yZW1vdmVLZXlIYW5kbGVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2VMaW5rIiwiX2ltYWdlVGV4dCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJuZXdIYW5kbGVGb3JtU3VibWl0IiwiaXNMb2FkaW5nIiwiX2Zvcm0iLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVJbnB1dCIsIl9qb2JJbnB1dCIsIl9hdmF0YXIiLCJfbmFtZSIsIl9qb2IiLCJqb2IiLCJpbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwidW5kZWZpbmVkIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxvZGF0b3IiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0UHJvZmlsZUluZm8iLCJwcm9maWxlSW5mbyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkc0FycmF5IiwiY2FyZEl0ZW0iLCJjYXJkIiwiY3JlYXRlQ2FyZCIsImhhbmRsZUNhcmRDbGljayIsImRlZmF1bHRDYXJkTGlzdCIsImFkZEl0ZW1BcHBFbmQiLCJpbWFnZURhdGEiLCJwb3B1cEltZyIsIm9wZW4iLCJjYXJkRGF0YSIsInRlbXBsYXRlIiwicG9wdXBDb25maXJtIiwiY2hhbmdlSGFuZGxlRm9ybVN1Ym1pdCIsImRlbGV0ZUNhcmRPbmxpbmUiLCJkZWxldGVDYXJkTG9jYWwiLCJkZWxldGVMaWtlIiwiYWRkTGlrZSIsImdlbmVyYXRlQ2FyZCIsInBvcHVwQXZhdGFyIiwiZm9ybURhdGEiLCJyZW5kZXJMb2FkaW5nIiwiY2hhbmdlQXZhdGFyIiwiZmluYWxseSIsInBvcHVwSXRlbSIsImFkZE5ld0NhcmQiLCJhZGRJdGVtUHJlcEVuZCIsInBvcHVwVXNlciIsImVkaXRQcm9maWxlIiwiY2xlYXJFcnJvcnMiLCJnZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlbmRlckl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==